exports.id=648,exports.ids=[648],exports.modules={26648:(ie,Q,I)=>{"use strict";I.d(Q,{getDefaultRoleAssumer:()=>fs,getDefaultRoleAssumerWithWebIdentity:()=>hs});const U=async e=>{const t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),u(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!E(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},G=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,V=/(\d+\.){3}\d+/,L=/\.\./,D=/\./,w=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,E=e=>G.test(e)&&!V.test(e)&&!L.test(e),u=e=>{const[t,n,r,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=Boolean(o&&n&&r&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},f=(e,t,n)=>{const r=async()=>{const s=n[e]??n[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{const s=typeof n.credentials=="function"?await n.credentials():n.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{const s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:o,hostname:i,port:h,path:y}=s;return`${o}//${i}${h?":"+h:""}${y}`}}return s}:r};class c extends Error{constructor(t,n=!0){let r,s=!0;typeof n=="boolean"?(r=void 0,s=n):n!=null&&typeof n=="object"&&(r=n.logger,s=n.tryNextLink??!0),super(t),this.name="ProviderError",this.tryNextLink=s,Object.setPrototypeOf(this,c.prototype),r?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,n=!0){return Object.assign(new this(t.message,n),t)}}class a extends c{constructor(t,n=!0){super(t,n),this.name="CredentialsProviderError",Object.setPrototypeOf(this,a.prototype)}}class p extends c{constructor(t,n=!0){super(t,n),this.name="TokenProviderError",Object.setPrototypeOf(this,p.prototype)}}const R=(...e)=>async()=>{if(e.length===0)throw new c("No providers in chain");let t;for(const n of e)try{return await n()}catch(r){if(t=r,r?.tryNextLink)continue;throw r}throw t},O=e=>()=>Promise.resolve(e),ne=(e,t,n)=>{let r,s,o,i=!1;const h=async()=>{s||(s=e());try{r=await s,o=!0,i=!1}finally{s=void 0}return r};return t===void 0?async y=>((!o||y?.forceRefresh)&&(r=await h()),r):async y=>((!o||y?.forceRefresh)&&(r=await h()),i?r:n&&!n(r)?(i=!0,r):(t(r)&&await h(),r))};function Y(e){try{const t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}const ee=(e,t)=>async()=>{try{const n=e(process.env);if(n===void 0)throw new Error;return n}catch(n){throw new a(n.message||`Not found in ENV: ${Y(e.toString())}`,{logger:t})}};var l=I(70857),m=I(16928);const x={},g=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",A=()=>{const{HOME:e,USERPROFILE:t,HOMEPATH:n,HOMEDRIVE:r=`C:${m.sep}`}=process.env;if(e)return e;if(t)return t;if(n)return`${r}${n}`;const s=g();return x[s]||(x[s]=(0,l.homedir)()),x[s]},d="AWS_PROFILE",$="default",_=e=>e.profile||process.env[d]||$;var T=I(76982);const J=e=>{const n=createHash("sha1").update(e).digest("hex");return join(getHomeDir(),".aws","sso","cache",`${n}.json`)};var k=I(79896);const{readFile:b}=k.promises,X=async e=>{const t=getSSOTokenFilepath(e),n=await b(t,"utf8");return JSON.parse(n)};var z;(function(e){e.HEADER="header",e.QUERY="query"})(z||(z={}));var ge;(function(e){e.HEADER="header",e.QUERY="query"})(ge||(ge={}));var it;(function(e){e.HTTP="http",e.HTTPS="https"})(it||(it={}));var _e;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(_e||(_e={}));const me=e=>{const t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>_e.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>_e.MD5,checksumConstructor:()=>e.md5}),{_checksumAlgorithms:t,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},mt=e=>{const t={};return e.checksumAlgorithms().forEach(n=>{t[n.algorithmId()]=n.checksumConstructor()}),t},pt=e=>({...getChecksumConfiguration(e)}),sc=e=>({...resolveChecksumRuntimeConfig(e)});var Ln;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Ln||(Ln={}));const It="__smithy_context";var at;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(at||(at={}));var Bn;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Bn||(Bn={}));const gs=e=>Object.entries(e).filter(([t])=>{const n=t.indexOf(Ge);return n===-1?!1:Object.values(at).includes(t.substring(0,n))}).reduce((t,[n,r])=>{const s=n.indexOf(Ge),o=n.substring(0,s)===at.PROFILE?n.substring(s+1):n;return t[o]=r,t},{...e.default&&{default:e.default}}),ms="AWS_CONFIG_FILE",ps=()=>process.env[ms]||(0,m.join)(A(),".aws","config"),ys="AWS_SHARED_CREDENTIALS_FILE",Es=()=>process.env[ys]||(0,m.join)(A(),".aws","credentials"),Ts=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,bs=["__proto__","profile __proto__"],Un=e=>{const t={};let n,r;for(const s of e.split(/\r?\n/)){const o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){n=void 0,r=void 0;const h=o.substring(1,o.length-1),y=Ts.exec(h);if(y){const[,N,,P]=y;Object.values(at).includes(N)&&(n=[N,P].join(Ge))}else n=h;if(bs.includes(h))throw new Error(`Found invalid profile name "${h}"`)}else if(n){const h=o.indexOf("=");if(![0,-1].includes(h)){const[y,N]=[o.substring(0,h).trim(),o.substring(h+1).trim()];if(N==="")r=y;else{r&&s.trimStart()===s&&(r=void 0),t[n]=t[n]||{};const P=r?[r,y].join(Ge):y;t[n][P]=N}}}}return t},{readFile:ws}=k.promises,Pt={},Hn=(e,t)=>((!Pt[e]||t?.ignoreCache)&&(Pt[e]=ws(e,"utf8")),Pt[e]),Dn=()=>({}),Ge=".",Ss=async(e={})=>{const{filepath:t=Es(),configFilepath:n=ps()}=e,r=A(),s="~/";let o=t;t.startsWith(s)&&(o=(0,m.join)(r,t.slice(2)));let i=n;n.startsWith(s)&&(i=(0,m.join)(r,n.slice(2)));const h=await Promise.all([Hn(i,{ignoreCache:e.ignoreCache}).then(Un).then(gs).catch(Dn),Hn(o,{ignoreCache:e.ignoreCache}).then(Un).catch(Dn)]);return{configFile:h[0],credentialsFile:h[1]}},oc=e=>Object.entries(e).filter(([t])=>t.startsWith(IniSectionType.SSO_SESSION+CONFIG_PREFIX_SEPARATOR)).reduce((t,[n,r])=>({...t,[n.substring(n.indexOf(CONFIG_PREFIX_SEPARATOR)+1)]:r}),{}),As=()=>({}),ic=async(e={})=>slurpFile(e.configFilepath??getConfigFilepath()).then(parseIni).then(getSsoSessionData).catch(As),ac=async e=>{const t=await loadSharedConfigFiles(e);return mergeConfigFiles(t.configFile,t.credentialsFile)},Rs=(e,{preferredFile:t="config",...n}={})=>async()=>{const r=_(n),{configFile:s,credentialsFile:o}=await Ss(n),i=o[r]||{},h=s[r]||{},y=t==="config"?{...i,...h}:{...h,...i};try{const P=e(y,t==="config"?s:o);if(P===void 0)throw new Error;return P}catch(N){throw new a(N.message||`Not found in config files w/ profile [${r}]: ${Y(e.toString())}`,{logger:n.logger})}},Cs=e=>typeof e=="function",Ns=e=>Cs(e)?async()=>await e():O(e),qe=({environmentVariableSelector:e,configFileSelector:t,default:n},r={})=>ne(R(ee(e),Rs(t,r),Ns(n))),Wn="AWS_ENDPOINT_URL",Vn="endpoint_url",_s=e=>({environmentVariableSelector:t=>{const n=e.split(" ").map(o=>o.toUpperCase()),r=t[[Wn,...n].join("_")];if(r)return r;const s=t[Wn];if(s)return s},configFileSelector:(t,n)=>{if(n&&t.services){const s=n[["services",t.services].join(Ge)];if(s){const o=e.split(" ").map(h=>h.toLowerCase()),i=s[[o.join("_"),Vn].join(Ge)];if(i)return i}}const r=t[Vn];if(r)return r},default:void 0}),Is=async e=>qe(_s(e))();function Ps(e){const t={};if(e=e.replace(/^\?/,""),e)for(const n of e.split("&")){let[r,s=null]=n.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in t?Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]:t[r]=s}return t}const yt=e=>{if(typeof e=="string")return yt(new URL(e));const{hostname:t,pathname:n,port:r,protocol:s,search:o}=e;let i;return o&&(i=Ps(o)),{hostname:t,port:r?parseInt(r):void 0,protocol:s,path:n,query:i}},zn=e=>typeof e=="object"?"url"in e?yt(e.url):e:yt(e),xs=async(e,t,n,r)=>{if(!n.endpoint){const i=await Is(n.serviceId||"");i&&(n.endpoint=()=>Promise.resolve(zn(i)))}const s=await vs(e,t,n);if(typeof n.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return n.endpointProvider(s,r)},vs=async(e,t,n)=>{const r={},s=t?.getEndpointParameterInstructions?.()||{};for(const[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":r[o]=i.value;break;case"contextParams":r[o]=e[i.name];break;case"clientContextParams":case"builtInParams":r[o]=await f(i.name,o,n)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(r,n),String(n.serviceId).toLowerCase()==="s3"&&await U(r),r},jn=e=>e[It]||(e[It]={}),Ke=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},Os=({config:e,instructions:t})=>(n,r)=>async s=>{const o=await xs(s.input,{getEndpointParameterInstructions(){return t}},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;const i=r.authSchemes?.[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;const y=jn(r)?.selectedHttpAuthScheme?.httpAuthOption;y&&(y.signingProperties=Object.assign(y.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return n({...s})},$s=(e,t)=>n=>async r=>{const{response:s}=await n(r);try{const o=await t(s,e);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){const i="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+i,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}},ks=(e,t)=>(n,r)=>async s=>{const o=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");const i=await t(s.input,{...e,endpoint:o});return n({...s,request:i})},Ms={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Gn={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function qn(e,t,n){return{applyToStack:r=>{r.add($s(e,n),Ms),r.add(ks(e,t),Gn)}}}const Fs={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Gn.name},Kn=(e,t)=>({applyToStack:n=>{n.addRelativeTo(Os({config:e,instructions:t}),Fs)}}),Ls=e=>{const t=e.tls??!0,{endpoint:n}=e,r=n!=null?async()=>zn(await Ke(n)()):void 0;return{...e,endpoint:r,tls:t,isCustomEndpoint:!!n,useDualstackEndpoint:Ke(e.useDualstackEndpoint??!1),useFipsEndpoint:Ke(e.useFipsEndpoint??!1)}};class Yn{trace(){}debug(){}info(){}warn(){}error(){}}const Ve=(e,t)=>{const n=[];if(e&&n.push(e),t)for(const r of t)n.push(r);return n},Oe=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Et=()=>{let e=[],t=[],n=!1;const r=new Set,s=S=>S.sort((C,v)=>Xn[v.step]-Xn[C.step]||Jn[v.priority||"normal"]-Jn[C.priority||"normal"]),o=S=>{let C=!1;const v=W=>{const te=Ve(W.name,W.aliases);if(te.includes(S)){C=!0;for(const M of te)r.delete(M);return!1}return!0};return e=e.filter(v),t=t.filter(v),C},i=S=>{let C=!1;const v=W=>{if(W.middleware===S){C=!0;for(const te of Ve(W.name,W.aliases))r.delete(te);return!1}return!0};return e=e.filter(v),t=t.filter(v),C},h=S=>(e.forEach(C=>{S.add(C.middleware,{...C})}),t.forEach(C=>{S.addRelativeTo(C.middleware,{...C})}),S.identifyOnResolve?.(P.identifyOnResolve()),S),y=S=>{const C=[];return S.before.forEach(v=>{v.before.length===0&&v.after.length===0?C.push(v):C.push(...y(v))}),C.push(S),S.after.reverse().forEach(v=>{v.before.length===0&&v.after.length===0?C.push(v):C.push(...y(v))}),C},N=(S=!1)=>{const C=[],v=[],W={};return e.forEach(M=>{const B={...M,before:[],after:[]};for(const F of Ve(B.name,B.aliases))W[F]=B;C.push(B)}),t.forEach(M=>{const B={...M,before:[],after:[]};for(const F of Ve(B.name,B.aliases))W[F]=B;v.push(B)}),v.forEach(M=>{if(M.toMiddleware){const B=W[M.toMiddleware];if(B===void 0){if(S)return;throw new Error(`${M.toMiddleware} is not found when adding ${Oe(M.name,M.aliases)} middleware ${M.relation} ${M.toMiddleware}`)}M.relation==="after"&&B.after.push(M),M.relation==="before"&&B.before.push(M)}}),s(C).map(y).reduce((M,B)=>(M.push(...B),M),[])},P={add:(S,C={})=>{const{name:v,override:W,aliases:te}=C,M={step:"initialize",priority:"normal",middleware:S,...C},B=Ve(v,te);if(B.length>0){if(B.some(F=>r.has(F))){if(!W)throw new Error(`Duplicate middleware name '${Oe(v,te)}'`);for(const F of B){const j=e.findIndex(ye=>ye.name===F||ye.aliases?.some(je=>je===F));if(j===-1)continue;const Z=e[j];if(Z.step!==M.step||M.priority!==Z.priority)throw new Error(`"${Oe(Z.name,Z.aliases)}" middleware with ${Z.priority} priority in ${Z.step} step cannot be overridden by "${Oe(v,te)}" middleware with ${M.priority} priority in ${M.step} step.`);e.splice(j,1)}}for(const F of B)r.add(F)}e.push(M)},addRelativeTo:(S,C)=>{const{name:v,override:W,aliases:te}=C,M={middleware:S,...C},B=Ve(v,te);if(B.length>0){if(B.some(F=>r.has(F))){if(!W)throw new Error(`Duplicate middleware name '${Oe(v,te)}'`);for(const F of B){const j=t.findIndex(ye=>ye.name===F||ye.aliases?.some(je=>je===F));if(j===-1)continue;const Z=t[j];if(Z.toMiddleware!==M.toMiddleware||Z.relation!==M.relation)throw new Error(`"${Oe(Z.name,Z.aliases)}" middleware ${Z.relation} "${Z.toMiddleware}" middleware cannot be overridden by "${Oe(v,te)}" middleware ${M.relation} "${M.toMiddleware}" middleware.`);t.splice(j,1)}}for(const F of B)r.add(F)}t.push(M)},clone:()=>h(Et()),use:S=>{S.applyToStack(P)},remove:S=>typeof S=="string"?o(S):i(S),removeByTag:S=>{let C=!1;const v=W=>{const{tags:te,name:M,aliases:B}=W;if(te&&te.includes(S)){const F=Ve(M,B);for(const j of F)r.delete(j);return C=!0,!1}return!0};return e=e.filter(v),t=t.filter(v),C},concat:S=>{const C=h(Et());return C.use(S),C.identifyOnResolve(n||C.identifyOnResolve()||(S.identifyOnResolve?.()??!1)),C},applyToStack:h,identify:()=>N(!0).map(S=>{const C=S.step??S.relation+" "+S.toMiddleware;return Oe(S.name,S.aliases)+" - "+C}),identifyOnResolve(S){return typeof S=="boolean"&&(n=S),n},resolve:(S,C)=>{for(const v of N().map(W=>W.middleware).reverse())S=v(S,C);return n&&console.log(P.identify()),S}};return P},Xn={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Jn={high:3,normal:2,low:1};class Bs{constructor(t){this.middlewareStack=Et(),this.config=t}send(t,n,r){const s=typeof n!="function"?n:void 0,o=typeof n=="function"?n:r,i=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)i(t).then(h=>o(null,h.output),h=>o(h)).catch(()=>{});else return i(t).then(h=>h.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Qn=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var Ye=I(20181);const Us=(e,t=0,n=e.byteLength-t)=>{if(!Qn(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Ye.Buffer.from(e,t,n)},Hs=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Ye.Buffer.from(e,t):Ye.Buffer.from(e)},Ds=/^[A-Za-z0-9+/]*={0,2}$/,Ws=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!Ds.exec(e))throw new TypeError("Invalid base64 string.");const t=Hs(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},Vs=(e,t=0,n=e.byteLength-t)=>{if(!Qn(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Ye.Buffer.from(e,t,n)},zs=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Ye.Buffer.from(e,t):Ye.Buffer.from(e)},Zn=e=>{const t=zs(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},cc=e=>typeof e=="string"?fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),js=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Vs(e.buffer,e.byteOffset,e.byteLength).toString("utf8")},Gs=e=>{let t;if(typeof e=="string"?t=Zn(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return Us(t.buffer,t.byteOffset,t.byteLength).toString("base64")};function dc(e,t="utf-8"){return t==="base64"?toBase64(e):toUtf8(e)}function lc(e,t){return t==="base64"?Uint8ArrayBlobAdapter.mutate(fromBase64(e)):Uint8ArrayBlobAdapter.mutate(fromUtf8(e))}class er extends null{static fromString(t,n="utf-8"){switch(typeof t){case"string":return transformFromString(t,n);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,er.prototype),t}transformToString(t="utf-8"){return transformToString(this,t)}}var Tt=I(2203);const uc=(e,t)=>{const{base64Encoder:n,bodyLengthChecker:r,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,h=n!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,y=h?i(s,e):void 0,N=new Readable({read:()=>{}});return e.on("data",P=>{const S=r(P)||0;N.push(`${S.toString(16)}\r
`),N.push(P),N.push(`\r
`)}),e.on("end",async()=>{if(N.push(`0\r
`),h){const P=n(await y);N.push(`${o}:${P}\r
`),N.push(`\r
`)}N.push(null)}),N},qs=e=>{let t=e.httpHandler;return{setHttpHandler(n){t=n},httpHandler(){return t},updateHttpClientConfig(n,r){t.updateHttpClientConfig(n,r)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},Ks=e=>({httpHandler:e.httpHandler()});class fc{constructor({name:t,kind:n=FieldPosition.HEADER,values:r=[]}){this.name=t,this.kind=n,this.values=r}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(n=>n!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}}class ze{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const n=new ze({...t,headers:{...t.headers}});return n.query&&(n.query=Ys(n.query)),n}static isInstance(t){if(!t)return!1;const n=t;return"method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&typeof n.query=="object"&&typeof n.headers=="object"}clone(){return ze.clone(this)}}function Ys(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:Array.isArray(r)?[...r]:r}},{})}class xt{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const n=t;return typeof n.statusCode=="number"&&typeof n.headers=="object"}}const vt=e=>encodeURIComponent(e).replace(/[!'()*]/g,Xs),Xs=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Js(e){const t=[];for(let n of Object.keys(e).sort()){const r=e[n];if(n=vt(n),Array.isArray(r))for(let s=0,o=r.length;s<o;s++)t.push(`${n}=${vt(r[s])}`);else{let s=n;(r||typeof r=="string")&&(s+=`=${vt(r)}`),t.push(s)}}return t.join("&")}var Ot=I(58611),$t=I(65692);const Qs=["ECONNRESET","EPIPE","ETIMEDOUT"],Zs=e=>{const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=Array.isArray(r)?r.join(","):r}return t},eo=(e,t,n=0)=>{if(!n)return;const r=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${n} ms`),{name:"TimeoutError"}))},n);e.on("socket",s=>{s.connecting?s.on("connect",()=>{clearTimeout(r)}):clearTimeout(r)})},to=(e,{keepAlive:t,keepAliveMsecs:n})=>{t===!0&&e.on("socket",r=>{r.setKeepAlive(t,n||0)})},no=(e,t,n=0)=>{e.setTimeout(n,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${n} ms`),{name:"TimeoutError"}))})},tr=1e3;async function ro(e,t,n=tr){const r=t.headers??{},s=r.Expect||r.expect;let o=-1,i=!1;s==="100-continue"&&await Promise.race([new Promise(h=>{o=Number(setTimeout(h,Math.max(tr,n)))}),new Promise(h=>{e.on("continue",()=>{clearTimeout(o),h()}),e.on("error",()=>{i=!0,clearTimeout(o),h()})})]),i||so(e,t.body)}function so(e,t){if(t instanceof Tt.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}const n=t;if(typeof n=="object"&&n.buffer&&typeof n.byteOffset=="number"&&typeof n.byteLength=="number"){e.end(Buffer.from(n.buffer,n.byteOffset,n.byteLength));return}e.end(Buffer.from(t));return}e.end()}const hc=0;class bt{static create(t){return typeof t?.handle=="function"?t:new bt(t)}static checkSocketUsage(t,n,r=console){const{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0)return n;const h=15e3;if(Date.now()-h<n)return n;if(s&&o)for(const y in s){const N=s[y]?.length??0,P=o[y]?.length??0;if(N>=i&&P>=2*i)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${N} and ${P} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return n}constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((n,r)=>{typeof t=="function"?t().then(s=>{n(this.resolveDefaultConfig(s))}).catch(r):n(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){const{requestTimeout:n,connectionTimeout:r,socketTimeout:s,httpAgent:o,httpsAgent:i}=t||{},h=!0,y=50;return{connectionTimeout:r,requestTimeout:n??s,httpAgent:(()=>o instanceof Ot.Agent||typeof o?.destroy=="function"?o:new Ot.Agent({keepAlive:h,maxSockets:y,...o}))(),httpsAgent:(()=>i instanceof $t.Agent||typeof i?.destroy=="function"?i:new $t.Agent({keepAlive:h,maxSockets:y,...i}))(),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:n}={}){this.config||(this.config=await this.configProvider);let r;return new Promise((s,o)=>{let i;const h=async F=>{await i,clearTimeout(r),s(F)},y=async F=>{await i,clearTimeout(r),o(F)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(n?.aborted){const F=new Error("Request aborted");F.name="AbortError",y(F);return}const N=t.protocol==="https:",P=N?this.config.httpsAgent:this.config.httpAgent;r=setTimeout(()=>{this.socketWarningTimestamp=bt.checkSocketUsage(P,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3));const S=Js(t.query||{});let C;if(t.username!=null||t.password!=null){const F=t.username??"",j=t.password??"";C=`${F}:${j}`}let v=t.path;S&&(v+=`?${S}`),t.fragment&&(v+=`#${t.fragment}`);const W={headers:t.headers,host:t.hostname,method:t.method,path:v,port:t.port,agent:P,auth:C},M=(N?$t.request:Ot.request)(W,F=>{const j=new xt({statusCode:F.statusCode||-1,reason:F.statusMessage,headers:Zs(F.headers),body:F});h({response:j})});if(M.on("error",F=>{Qs.includes(F.code)?y(Object.assign(F,{name:"TimeoutError"})):y(F)}),eo(M,y,this.config.connectionTimeout),no(M,y,this.config.requestTimeout),n){const F=()=>{M.destroy();const j=new Error("Request aborted");j.name="AbortError",y(j)};if(typeof n.addEventListener=="function"){const j=n;j.addEventListener("abort",F,{once:!0}),M.once("close",()=>j.removeEventListener("abort",F))}else n.onabort=F}const B=W.agent;typeof B=="object"&&"keepAlive"in B&&to(M,{keepAlive:B.keepAlive,keepAliveMsecs:B.keepAliveMsecs}),i=ro(M,t,this.config.requestTimeout).catch(F=>(clearTimeout(r),o(F)))})}updateHttpClientConfig(t,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[t]:n}))}httpHandlerConfigs(){return this.config??{}}}var gc=I(85675);class mc{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(n=>n!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(const n of this.sessions)n===t&&(n.destroyed||n.destroy())}}class pc{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,n){const r=this.getUrlString(t),s=this.sessionCache.get(r);if(s){const y=s.poll();if(y&&!this.config.disableConcurrency)return y}const o=http2.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},y=>{if(y)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();const i=()=>{o.destroy(),this.deleteSession(r,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(r,o)),n.requestTimeout&&o.setTimeout(n.requestTimeout,i);const h=this.sessionCache.get(r)||new NodeHttp2ConnectionPool;return h.offerLast(o),this.sessionCache.set(r,h),o}deleteSession(t,n){const r=this.sessionCache.get(t);!r||!r.contains(n)||(r.remove(n),this.sessionCache.set(t,r))}release(t,n){const r=this.getUrlString(t);this.sessionCache.get(r)?.offerLast(n)}destroy(){for(const[t,n]of this.sessionCache){for(const r of n)r.destroyed||r.destroy(),n.remove(r);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}}class nr{static create(t){return typeof t?.handle=="function"?t:new nr(t)}constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new NodeHttp2ConnectionManager({}),this.configProvider=new Promise((n,r)=>{typeof t=="function"?t().then(s=>{n(s||{})}).catch(r):n(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));const{requestTimeout:r,disableConcurrentStreams:s}=this.config;return new Promise((o,i)=>{let h=!1,y;const N=async oe=>{await y,o(oe)},P=async oe=>{await y,i(oe)};if(n?.aborted){h=!0;const oe=new Error("Request aborted");oe.name="AbortError",P(oe);return}const{hostname:S,method:C,port:v,protocol:W,query:te}=t;let M="";if(t.username!=null||t.password!=null){const oe=t.username??"",Re=t.password??"";M=`${oe}:${Re}@`}const B=`${W}//${M}${S}${v?`:${v}`:""}`,F={destination:new URL(B)},j=this.connectionManager.lease(F,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:s||!1}),Z=oe=>{s&&this.destroySession(j),h=!0,P(oe)},ye=buildQueryString(te||{});let je=t.path;ye&&(je+=`?${ye}`),t.fragment&&(je+=`#${t.fragment}`);const Se=j.request({...t.headers,[constants.HTTP2_HEADER_PATH]:je,[constants.HTTP2_HEADER_METHOD]:C});if(j.ref(),Se.on("response",oe=>{const Re=new HttpResponse({statusCode:oe[":status"]||-1,headers:getTransformedHeaders(oe),body:Se});h=!0,N({response:Re}),s&&(j.close(),this.connectionManager.deleteSession(B,j))}),r&&Se.setTimeout(r,()=>{Se.close();const oe=new Error(`Stream timed out because of no activity for ${r} ms`);oe.name="TimeoutError",Z(oe)}),n){const oe=()=>{Se.close();const Re=new Error("Request aborted");Re.name="AbortError",Z(Re)};if(typeof n.addEventListener=="function"){const Re=n;Re.addEventListener("abort",oe,{once:!0}),Se.once("close",()=>Re.removeEventListener("abort",oe))}else n.onabort=oe}Se.on("frameError",(oe,Re,rc)=>{Z(new Error(`Frame type id ${oe} in stream id ${rc} has failed with code ${Re}.`))}),Se.on("error",Z),Se.on("aborted",()=>{Z(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Se.rstCode}.`))}),Se.on("close",()=>{j.unref(),s&&j.destroy(),h||Z(new Error("Unexpected error: http2 request did not get a response"))}),y=writeRequestBody(Se,t,r)})}updateHttpClientConfig(t,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[t]:n}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}}class oo extends Tt.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,n,r){this.bufferedBytes.push(t),r()}}const io=e=>ao(e)?co(e):new Promise((t,n)=>{const r=new oo;e.pipe(r),e.on("error",s=>{r.end(),n(s)}),r.on("error",n),r.on("finish",function(){const s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),ao=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function co(e){const t=[],n=e.getReader();let r=!1,s=0;for(;!r;){const{done:h,value:y}=await n.read();y&&(t.push(y),s+=y.length),r=h}const o=new Uint8Array(s);let i=0;for(const h of t)o.set(h,i),i+=h.length;return o}const yc=(e,t=0,n=e.byteLength-t)=>{if(!isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Buffer.from(e,t,n)},Ec=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Buffer.from(e,t):Buffer.from(e)};var Tc=I(39023);const kt={supported:void 0};class rr{static create(t){return typeof t?.handle=="function"?t:new rr(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(n=>n||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),kt.supported===void 0&&(kt.supported=Boolean(typeof Request<"u"&&"keepalive"in new Request("https://[::1]")))}destroy(){}async handle(t,{abortSignal:n}={}){this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,s=this.config.keepAlive===!0,o=this.config.credentials;if(n?.aborted){const B=new Error("Request aborted");return B.name="AbortError",Promise.reject(B)}let i=t.path;const h=buildQueryString(t.query||{});h&&(i+=`?${h}`),t.fragment&&(i+=`#${t.fragment}`);let y="";if(t.username!=null||t.password!=null){const B=t.username??"",F=t.password??"";y=`${B}:${F}@`}const{port:N,method:P}=t,S=`${t.protocol}//${y}${t.hostname}${N?`:${N}`:""}${i}`,C=P==="GET"||P==="HEAD"?void 0:t.body,v={body:C,headers:new Headers(t.headers),method:P,credentials:o};C&&(v.duplex="half"),typeof AbortController<"u"&&(v.signal=n),kt.supported&&(v.keepalive=s);let W=()=>{};const te=new Request(S,v),M=[fetch(te).then(B=>{const F=B.headers,j={};for(const ye of F.entries())j[ye[0]]=ye[1];return B.body!=null?{response:new HttpResponse({headers:j,reason:B.statusText,statusCode:B.status,body:B.body})}:B.blob().then(ye=>({response:new HttpResponse({headers:j,reason:B.statusText,statusCode:B.status,body:ye})}))}),requestTimeout(r)];return n&&M.push(new Promise((B,F)=>{const j=()=>{const Z=new Error("Request aborted");Z.name="AbortError",F(Z)};if(typeof n.addEventListener=="function"){const Z=n;Z.addEventListener("abort",j,{once:!0}),W=()=>Z.removeEventListener("abort",j)}else n.onabort=j})),Promise.race(M).finally(W)}updateHttpClientConfig(t,n){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[t]=n,r))}httpHandlerConfigs(){return this.config??{}}}const bc=e=>typeof Blob=="function"&&e instanceof Blob?lo(e):uo(e);async function lo(e){const t=await fo(e),n=fromBase64(t);return new Uint8Array(n)}async function uo(e){const t=[],n=e.getReader();let r=!1,s=0;for(;!r;){const{done:h,value:y}=await n.read();y&&(t.push(y),s+=y.length),r=h}const o=new Uint8Array(s);let i=0;for(const h of t)o.set(h,i),i+=h.length;return o}function fo(e){return new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return n(new Error("Reader aborted too early"));const s=r.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},r.onabort=()=>n(new Error("Read aborted")),r.onerror=()=>n(r.error),r.readAsDataURL(e)})}const sr={},Mt={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),sr[e]=t,Mt[t]=e}function wc(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){const r=e.slice(n,n+2).toLowerCase();if(r in Mt)t[n/2]=Mt[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function Sc(e){let t="";for(let n=0;n<e.byteLength;n++)t+=sr[e[n]];return t}const or="The stream has already been transformed.",Ac=e=>{if(!ir(e)&&!isReadableStream(e)){const s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1;const n=async()=>{if(t)throw new Error(or);return t=!0,await streamCollector(e)},r=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:n,transformToString:async s=>{const o=await n();if(s==="base64")return toBase64(o);if(s==="hex")return toHex(o);if(s===void 0||s==="utf8"||s==="utf-8")return toUtf8(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(or);if(t=!0,ir(e))return r(e);if(isReadableStream(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},ir=e=>typeof Blob=="function"&&e instanceof Blob,ar="The stream has already been transformed.",Rc=e=>{if(!(e instanceof Readable))try{return sdkStreamMixinReadableStream(e)}catch{const s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1;const n=async()=>{if(t)throw new Error(ar);return t=!0,await streamCollector(e)};return Object.assign(e,{transformToByteArray:n,transformToString:async r=>{const s=await n();return r===void 0||Buffer.isEncoding(r)?fromArrayBuffer(s.buffer,s.byteOffset,s.byteLength).toString(r):new TextDecoder(r).decode(s)},transformToWebStream:()=>{if(t)throw new Error(ar);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,Readable.toWeb(e)}})};async function Cc(e){if(isReadableStream(e))return splitWebStream(e);const t=new PassThrough,n=new PassThrough;return e.pipe(t),e.pipe(n),[t,n]}const Nc=(e,t)=>isReadableStream(e)?headWebStream(e,t):new Promise((n,r)=>{const s=new ho;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),r(o)}),s.on("error",r),s.on("finish",function(){const o=new Uint8Array(Buffer.concat(this.buffers));n(o)})});class ho extends Tt.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(t,n,r){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){const s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}r()}}const _c=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Uint8ArrayBlobAdapter.mutate(e);if(!e)return Uint8ArrayBlobAdapter.mutate(new Uint8Array);const n=t.streamCollector(e);return Uint8ArrayBlobAdapter.mutate(await n)};class Ft{constructor(){this.middlewareStack=Et()}static classBuilder(){return new go}resolveMiddlewareWithContext(t,n,r,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:h,outputFilterSensitiveLog:y,smithyContext:N,additionalContext:P,CommandCtor:S}){for(const M of s.bind(this)(S,t,n,r))this.middlewareStack.use(M);const C=t.concat(this.middlewareStack),{logger:v}=n,W={logger:v,clientName:o,commandName:i,inputFilterSensitiveLog:h,outputFilterSensitiveLog:y,[It]:{commandInstance:this,...N},...P},{requestHandler:te}=n;return C.resolve(M=>te.handle(M.request,r||{}),W)}}class go{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,n,r={}){return this._smithyContext={service:t,operation:n,...r},this}c(t={}){return this._additionalContext=t,this}n(t,n){return this._clientName=t,this._commandName=n,this}f(t=r=>r,n=r=>r){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=n,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let n;return n=class extends Ft{static getEndpointParameterInstructions(){return t._ep}constructor(...[r]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=r??{},t._init(this)}resolveMiddleware(r,s,o){return this.resolveMiddlewareWithContext(r,s,o,{CommandCtor:n,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const cr="***SensitiveInformation***",Ic=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Pc=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&At.warn(St(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){const t=e.toLowerCase();if((t==="false"||t==="true")&&At.warn(St(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},wt=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&At.warn(St(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},mo=Math.ceil(2**127*(2-2**-23)),Lt=e=>{const t=wt(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>mo)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Bt=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},xc=null,dr=e=>Ut(e,32),lr=e=>Ut(e,16),ur=e=>Ut(e,8),Ut=(e,t)=>{const n=Bt(e);if(n!==void 0&&po(n,t)!==n)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return n},po=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},yo=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Eo=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},ae=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return At.warn(St(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},vc=e=>{if(e==null)return;const t=Eo(e),n=Object.entries(t).filter(([,r])=>r!=null).map(([r])=>r);if(n.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(n.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);return t},Oc=e=>wt(typeof e=="string"?Xe(e):e),$c=null,To=e=>Lt(typeof e=="string"?Xe(e):e),bo=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Xe=e=>{const t=e.match(bo);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},kc=e=>typeof e=="string"?fr(e):wt(e),Mc=null,Fc=null,Lc=e=>typeof e=="string"?fr(e):Lt(e),fr=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Bc=e=>Bt(typeof e=="string"?Xe(e):e),Uc=null,hr=e=>dr(typeof e=="string"?Xe(e):e),wo=e=>lr(typeof e=="string"?Xe(e):e),So=e=>ur(typeof e=="string"?Xe(e):e),St=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),At={warn:console.warn},Ao=null,Ht=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Hc(e){const t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),h=e.getUTCSeconds(),y=s<10?`0${s}`:`${s}`,N=o<10?`0${o}`:`${o}`,P=i<10?`0${i}`:`${i}`,S=h<10?`0${h}`:`${h}`;return`${Ao[r]}, ${y} ${Ht[n]} ${t} ${N}:${P}:${S} GMT`}const Ro=null,Dc=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=Ro.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,s,o,i,h,y,N]=t,P=strictParseShort(Je(r)),S=Ce(s,"month",1,12),C=Ce(o,"day",1,31);return ct(P,S,C,{hours:i,minutes:h,seconds:y,fractionalMilliseconds:N})},Co=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),No=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=Co.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[n,r,s,o,i,h,y,N,P]=t,S=wo(Je(r)),C=Ce(s,"month",1,12),v=Ce(o,"day",1,31),W=ct(S,C,v,{hours:i,minutes:h,seconds:y,fractionalMilliseconds:N});return P.toUpperCase()!="Z"&&W.setTime(W.getTime()-Lo(P)),W},_o=null,Io=null,Po=null,Wc=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=_o.exec(e);if(t){const[n,r,s,o,i,h,y,N]=t;return ct(strictParseShort(Je(o)),Dt(s),Ce(r,"day",1,31),{hours:i,minutes:h,seconds:y,fractionalMilliseconds:N})}if(t=Io.exec(e),t){const[n,r,s,o,i,h,y,N]=t;return Oo(ct(xo(o),Dt(s),Ce(r,"day",1,31),{hours:i,minutes:h,seconds:y,fractionalMilliseconds:N}))}if(t=Po.exec(e),t){const[n,r,s,o,i,h,y,N]=t;return ct(strictParseShort(Je(N)),Dt(r),Ce(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:h,fractionalMilliseconds:y})}throw new TypeError("Invalid RFC-7231 date-time value")},Vc=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=strictParseDouble(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},ct=(e,t,n,r)=>{const s=t-1;return ko(e,s,n),new Date(Date.UTC(e,s,n,Ce(r.hours,"hour",0,23),Ce(r.minutes,"minute",0,59),Ce(r.seconds,"seconds",0,60),Fo(r.fractionalMilliseconds)))},xo=e=>{const t=new Date().getUTCFullYear(),n=Math.floor(t/100)*100+strictParseShort(Je(e));return n<t?n+100:n},vo=null,Oo=e=>e.getTime()-new Date().getTime()>vo?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Dt=e=>{const t=Ht.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},$o=[31,28,31,30,31,30,31,31,30,31,30,31],ko=(e,t,n)=>{let r=$o[t];if(t===1&&Mo(e)&&(r=29),n>r)throw new TypeError(`Invalid day for ${Ht[t]} in ${e}: ${n}`)},Mo=e=>e%4===0&&(e%100!==0||e%400===0),Ce=(e,t,n,r)=>{const s=So(Je(e));if(s<n||s>r)throw new TypeError(`${t} must be between ${n} and ${r}, inclusive`);return s},Fo=e=>e==null?0:To("0."+e)*1e3,Lo=e=>{const t=e[0];let n=1;if(t=="+")n=1;else if(t=="-")n=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const r=Number(e.substring(1,3)),s=Number(e.substring(4,6));return n*(r*60+s)*60*1e3},Je=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class Wt extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Wt.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const Ie=(e,t={})=>{Object.entries(t).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(e[r]==null||e[r]==="")&&(e[r]=s)});const n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},Bo=({output:e,parsedBody:t,exceptionCtor:n,errorCode:r})=>{const s=Ho(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new n({name:t?.code||t?.Code||r||o||"UnknownError",$fault:"client",$metadata:s});throw Ie(i,t)},Uo=e=>({output:t,parsedBody:n,errorCode:r})=>{Bo({output:t,parsedBody:n,exceptionCtor:e,errorCode:r})},Ho=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Do=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let gr=!1;const Wo=e=>{e&&!gr&&parseInt(e.substring(1,e.indexOf(".")))<16&&(gr=!0)},Vo=e=>{const t=[];for(const n in _e){const r=_e[n];e[r]!==void 0&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(n){this._checksumAlgorithms.push(n)},checksumAlgorithms(){return this._checksumAlgorithms}}},zo=e=>{const t={};return e.checksumAlgorithms().forEach(n=>{t[n.algorithmId()]=n.checksumConstructor()}),t},jo=e=>{let t=e.retryStrategy;return{setRetryStrategy(n){t=n},retryStrategy(){return t}}},Go=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},qo=e=>({...Vo(e),...jo(e)}),zc=null,Ko=e=>({...zo(e),...Go(e)});function mr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const Vt=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),n=new t;return Object.setPrototypeOf(n,e.prototype),n};Vt.prototype=Object.create(String.prototype,{constructor:{value:Vt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Vt,String);class Rt extends null{deserializeJSON(){return JSON.parse(super.toString())}toJSON(){return super.toString()}static fromObject(t){return t instanceof Rt?t:t instanceof String||typeof t=="string"?new Rt(t):new Rt(JSON.stringify(t))}}const Yo=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),pr={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Ae extends Wt{constructor(t){super(t),Object.setPrototypeOf(this,Ae.prototype)}}class zt extends Ae{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,zt.prototype)}}class jt extends Ae{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,jt.prototype)}}class Gt extends Ae{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Gt.prototype)}}class qt extends Ae{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,qt.prototype)}}class Kt extends Ae{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,Kt.prototype)}}class Yt extends Ae{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Yt.prototype)}}class Xt extends Ae{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Xt.prototype)}}class Jt extends Ae{constructor(t){super({name:"InvalidAuthorizationMessageException",$fault:"client",...t}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,Jt.prototype)}}const dt=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:cr}}),Xo=e=>({...e,...e.Credentials&&{Credentials:dt(e.Credentials)}}),jc=e=>({...e,...e.SAMLAssertion&&{SAMLAssertion:SENSITIVE_STRING}}),Gc=e=>({...e,...e.Credentials&&{Credentials:dt(e.Credentials)}}),Jo=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:cr}}),Qo=e=>({...e,...e.Credentials&&{Credentials:dt(e.Credentials)}}),qc=e=>({...e,...e.Credentials&&{Credentials:dt(e.Credentials)}}),Kc=e=>({...e,...e.Credentials&&{Credentials:dt(e.Credentials)}});var Zo=I(83436),ei=I(12763),ti=I(53127);const Qt=(e,t)=>(0,ti.w)(e,t).then(n=>{if(n.length){const r=new ei.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(y,N)=>N.trim()===""&&N.includes(`
`)?"":void 0});r.addEntity("#xD","\r"),r.addEntity("#10",`
`);let s;try{s=r.parse(n,!0)}catch(y){throw y&&typeof y=="object"&&Object.defineProperty(y,"$responseBodyText",{value:n}),y}const o="#text",i=Object.keys(s)[0],h=s[i];return h[o]&&(h[i]=h[o],delete h[o]),(0,Zo.rm)(h)}return{}}),ni=async(e,t)=>{const n=await Qt(e,t);return n.Error&&(n.Error.message=n.Error.message??n.Error.Message),n},Yc=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},ri=async(e,t)=>{const n=Me;let r;return r=Ue({...mi(e,t),[Le]:Gi,[Be]:Fe}),ke(t,n,"/",void 0,r)},Xc=async(e,t)=>{const n=Me;let r;return r=Ue({...pi(e,t),[Le]:qi,[Be]:Fe}),ke(t,n,"/",void 0,r)},si=async(e,t)=>{const n=Me;let r;return r=Ue({...yi(e,t),[Le]:Ki,[Be]:Fe}),ke(t,n,"/",void 0,r)},Jc=async(e,t)=>{const n=Me;let r;return r=Ue({...Ei(e,t),[Le]:Yi,[Be]:Fe}),ke(t,n,"/",void 0,r)},Qc=async(e,t)=>{const n=Me;let r;return r=Ue({...Ti(e,t),[Le]:Xi,[Be]:Fe}),ke(t,n,"/",void 0,r)},Zc=async(e,t)=>{const n=Me;let r;return r=Ue({...bi(e,t),[Le]:Ji,[Be]:Fe}),ke(t,n,"/",void 0,r)},ed=async(e,t)=>{const n=Me;let r;return r=Ue({...wi(e,t),[Le]:Qi,[Be]:Fe}),ke(t,n,"/",void 0,r)},td=async(e,t)=>{const n=Me;let r;return r=Ue({...Si(e,t),[Le]:Zi,[Be]:Fe}),ke(t,n,"/",void 0,r)},oi=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await Qt(e.body,t);let r={};return r=Ii(n.AssumeRoleResult,t),{$metadata:le(e),...r}},nd=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await parseBody(e.body,t);let r={};return r=Pi(n.AssumeRoleWithSAMLResult,t),{$metadata:le(e),...r}},ii=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await Qt(e.body,t);let r={};return r=xi(n.AssumeRoleWithWebIdentityResult,t),{$metadata:le(e),...r}},rd=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await parseBody(e.body,t);let r={};return r=vi(n.DecodeAuthorizationMessageResult,t),{$metadata:le(e),...r}},sd=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await parseBody(e.body,t);let r={};return r=ki(n.GetAccessKeyInfoResult,t),{$metadata:le(e),...r}},od=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await parseBody(e.body,t);let r={};return r=Mi(n.GetCallerIdentityResult,t),{$metadata:le(e),...r}},id=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await parseBody(e.body,t);let r={};return r=Fi(n.GetFederationTokenResult,t),{$metadata:le(e),...r}},ad=async(e,t)=>{if(e.statusCode>=300)return $e(e,t);const n=await parseBody(e.body,t);let r={};return r=Li(n.GetSessionTokenResult,t),{$metadata:le(e),...r}},$e=async(e,t)=>{const n={...e,body:await ni(e.body,t)},r=ea(e,n.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await ai(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await fi(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await hi(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await gi(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await di(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await ui(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await ci(n,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await li(n,t);default:const s=n.body;return ji({output:e,parsedBody:s.Error,errorCode:r})}},ai=async(e,t)=>{const n=e.body,r=Oi(n.Error,t),s=new zt({$metadata:le(e),...r});return Ie(s,n)},ci=async(e,t)=>{const n=e.body,r=Bi(n.Error,t),s=new Xt({$metadata:le(e),...r});return Ie(s,n)},di=async(e,t)=>{const n=e.body,r=Ui(n.Error,t),s=new Kt({$metadata:le(e),...r});return Ie(s,n)},li=async(e,t)=>{const n=e.body,r=Hi(n.Error,t),s=new Jt({$metadata:le(e),...r});return Ie(s,n)},ui=async(e,t)=>{const n=e.body,r=Di(n.Error,t),s=new Yt({$metadata:le(e),...r});return Ie(s,n)},fi=async(e,t)=>{const n=e.body,r=Wi(n.Error,t),s=new jt({$metadata:le(e),...r});return Ie(s,n)},hi=async(e,t)=>{const n=e.body,r=Vi(n.Error,t),s=new Gt({$metadata:le(e),...r});return Ie(s,n)},gi=async(e,t)=>{const n=e.body,r=zi(n.Error,t),s=new qt({$metadata:le(e),...r});return Ie(s,n)},mi=(e,t)=>{const n={};if(e[ve]!=null&&(n[ve]=e[ve]),e[tt]!=null&&(n[tt]=e[tt]),e[Te]!=null){const r=Ct(e[Te],t);e[Te]?.length===0&&(n.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{const i=`PolicyArns.${s}`;n[i]=o})}if(e[Ee]!=null&&(n[Ee]=e[Ee]),e[he]!=null&&(n[he]=e[he]),e[rt]!=null){const r=yr(e[rt],t);e[rt]?.length===0&&(n.Tags=[]),Object.entries(r).forEach(([s,o])=>{const i=`Tags.${s}`;n[i]=o})}if(e[Rn]!=null){const r=_i(e[Rn],t);e[Rn]?.length===0&&(n.TransitiveTagKeys=[]),Object.entries(r).forEach(([s,o])=>{const i=`TransitiveTagKeys.${s}`;n[i]=o})}if(e[sn]!=null&&(n[sn]=e[sn]),e[nt]!=null&&(n[nt]=e[nt]),e[st]!=null&&(n[st]=e[st]),e[we]!=null&&(n[we]=e[we]),e[mn]!=null){const r=Ci(e[mn],t);e[mn]?.length===0&&(n.ProvidedContexts=[]),Object.entries(r).forEach(([s,o])=>{const i=`ProvidedContexts.${s}`;n[i]=o})}return n},pi=(e,t)=>{const n={};if(e[ve]!=null&&(n[ve]=e[ve]),e[hn]!=null&&(n[hn]=e[hn]),e[bn]!=null&&(n[bn]=e[bn]),e[Te]!=null){const r=Ct(e[Te],t);e[Te]?.length===0&&(n.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{const i=`PolicyArns.${s}`;n[i]=o})}return e[Ee]!=null&&(n[Ee]=e[Ee]),e[he]!=null&&(n[he]=e[he]),n},yi=(e,t)=>{const n={};if(e[ve]!=null&&(n[ve]=e[ve]),e[tt]!=null&&(n[tt]=e[tt]),e[_n]!=null&&(n[_n]=e[_n]),e[pn]!=null&&(n[pn]=e[pn]),e[Te]!=null){const r=Ct(e[Te],t);e[Te]?.length===0&&(n.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{const i=`PolicyArns.${s}`;n[i]=o})}return e[Ee]!=null&&(n[Ee]=e[Ee]),e[he]!=null&&(n[he]=e[he]),n},Ei=(e,t)=>{const n={};return e[on]!=null&&(n[on]=e[on]),n},Ti=(e,t)=>{const n={};return e[Qe]!=null&&(n[Qe]=e[Qe]),n},bi=(e,t)=>({}),wi=(e,t)=>{const n={};if(e[un]!=null&&(n[un]=e[un]),e[Ee]!=null&&(n[Ee]=e[Ee]),e[Te]!=null){const r=Ct(e[Te],t);e[Te]?.length===0&&(n.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{const i=`PolicyArns.${s}`;n[i]=o})}if(e[he]!=null&&(n[he]=e[he]),e[rt]!=null){const r=yr(e[rt],t);e[rt]?.length===0&&(n.Tags=[]),Object.entries(r).forEach(([s,o])=>{const i=`Tags.${s}`;n[i]=o})}return n},Si=(e,t)=>{const n={};return e[he]!=null&&(n[he]=e[he]),e[nt]!=null&&(n[nt]=e[nt]),e[st]!=null&&(n[st]=e[st]),n},Ct=(e,t)=>{const n={};let r=1;for(const s of e){if(s===null)continue;const o=Ai(s,t);Object.entries(o).forEach(([i,h])=>{n[`member.${r}.${i}`]=h}),r++}return n},Ai=(e,t)=>{const n={};return e[In]!=null&&(n[In]=e[In]),n},Ri=(e,t)=>{const n={};return e[gn]!=null&&(n[gn]=e[gn]),e[tn]!=null&&(n[tn]=e[tn]),n},Ci=(e,t)=>{const n={};let r=1;for(const s of e){if(s===null)continue;const o=Ri(s,t);Object.entries(o).forEach(([i,h])=>{n[`member.${r}.${i}`]=h}),r++}return n},Ni=(e,t)=>{const n={};return e[ln]!=null&&(n[ln]=e[ln]),e[Nn]!=null&&(n[Nn]=e[Nn]),n},_i=(e,t)=>{const n={};let r=1;for(const s of e)s!==null&&(n[`member.${r}`]=s,r++);return n},yr=(e,t)=>{const n={};let r=1;for(const s of e){if(s===null)continue;const o=Ni(s,t);Object.entries(o).forEach(([i,h])=>{n[`member.${r}.${i}`]=h}),r++}return n},Zt=(e,t)=>{const n={};return e[en]!=null&&(n[en]=ae(e[en])),e[xe]!=null&&(n[xe]=ae(e[xe])),n},Ii=(e,t)=>{const n={};return e[fe]!=null&&(n[fe]=lt(e[fe],t)),e[Pe]!=null&&(n[Pe]=Zt(e[Pe],t)),e[be]!=null&&(n[be]=hr(e[be])),e[we]!=null&&(n[we]=ae(e[we])),n},Pi=(e,t)=>{const n={};return e[fe]!=null&&(n[fe]=lt(e[fe],t)),e[Pe]!=null&&(n[Pe]=Zt(e[Pe],t)),e[be]!=null&&(n[be]=__strictParseInt32(e[be])),e[En]!=null&&(n[En]=__expectString(e[En])),e[Sn]!=null&&(n[Sn]=__expectString(e[Sn])),e[dn]!=null&&(n[dn]=__expectString(e[dn])),e[et]!=null&&(n[et]=__expectString(e[et])),e[fn]!=null&&(n[fn]=__expectString(e[fn])),e[we]!=null&&(n[we]=__expectString(e[we])),n},xi=(e,t)=>{const n={};return e[fe]!=null&&(n[fe]=lt(e[fe],t)),e[wn]!=null&&(n[wn]=ae(e[wn])),e[Pe]!=null&&(n[Pe]=Zt(e[Pe],t)),e[be]!=null&&(n[be]=hr(e[be])),e[yn]!=null&&(n[yn]=ae(e[yn])),e[et]!=null&&(n[et]=ae(e[et])),e[we]!=null&&(n[we]=ae(e[we])),n},lt=(e,t)=>{const n={};return e[Qe]!=null&&(n[Qe]=ae(e[Qe])),e[Tn]!=null&&(n[Tn]=ae(e[Tn])),e[An]!=null&&(n[An]=ae(e[An])),e[rn]!=null&&(n[rn]=yo(No(e[rn]))),n},vi=(e,t)=>{const n={};return e[nn]!=null&&(n[nn]=__expectString(e[nn])),n},Oi=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},$i=(e,t)=>{const n={};return e[cn]!=null&&(n[cn]=__expectString(e[cn])),e[xe]!=null&&(n[xe]=__expectString(e[xe])),n},ki=(e,t)=>{const n={};return e[Ze]!=null&&(n[Ze]=__expectString(e[Ze])),n},Mi=(e,t)=>{const n={};return e[Cn]!=null&&(n[Cn]=__expectString(e[Cn])),e[Ze]!=null&&(n[Ze]=__expectString(e[Ze])),e[xe]!=null&&(n[xe]=__expectString(e[xe])),n},Fi=(e,t)=>{const n={};return e[fe]!=null&&(n[fe]=lt(e[fe],t)),e[an]!=null&&(n[an]=$i(e[an],t)),e[be]!=null&&(n[be]=__strictParseInt32(e[be])),n},Li=(e,t)=>{const n={};return e[fe]!=null&&(n[fe]=lt(e[fe],t)),n},Bi=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},Ui=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},Hi=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},Di=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},Wi=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},Vi=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},zi=(e,t)=>{const n={};return e[re]!=null&&(n[re]=ae(e[re])),n},le=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),cd=(e,t)=>collectBody(e,t).then(n=>t.utf8Encoder(n)),ji=Uo(Ae),ke=async(e,t,n,r,s)=>{const{hostname:o,protocol:i="https",port:h,path:y}=await e.endpoint(),N={protocol:i,hostname:o,port:h,method:"POST",path:y.endsWith("/")?y.slice(0,-1)+n:y+n,headers:t};return r!==void 0&&(N.hostname=r),s!==void 0&&(N.body=s),new ze(N)},Me={"content-type":"application/x-www-form-urlencoded"},Fe="2011-06-15",Le="Action",Qe="AccessKeyId",Gi="AssumeRole",en="AssumedRoleId",Pe="AssumedRoleUser",qi="AssumeRoleWithSAML",Ki="AssumeRoleWithWebIdentity",Ze="Account",xe="Arn",et="Audience",fe="Credentials",tn="ContextAssertion",Yi="DecodeAuthorizationMessage",nn="DecodedMessage",he="DurationSeconds",rn="Expiration",sn="ExternalId",on="EncodedMessage",an="FederatedUser",cn="FederatedUserId",Xi="GetAccessKeyInfo",Ji="GetCallerIdentity",Qi="GetFederationToken",Zi="GetSessionToken",dn="Issuer",ln="Key",un="Name",fn="NameQualifier",Ee="Policy",Te="PolicyArns",hn="PrincipalArn",gn="ProviderArn",mn="ProvidedContexts",pn="ProviderId",be="PackedPolicySize",yn="Provider",ve="RoleArn",tt="RoleSessionName",En="Subject",Tn="SecretAccessKey",bn="SAMLAssertion",wn="SubjectFromWebIdentityToken",we="SourceIdentity",nt="SerialNumber",Sn="SubjectType",An="SessionToken",rt="Tags",st="TokenCode",Rn="TransitiveTagKeys",Cn="UserId",Be="Version",Nn="Value",_n="WebIdentityToken",In="arn",re="message",Ue=e=>Object.entries(e).map(([t,n])=>mr(t)+"="+mr(n)).join("&"),ea=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};class ta extends Ft.classBuilder().ep({...pr}).m(function(t,n,r,s){return[qn(r,this.serialize,this.deserialize),Kn(r,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Xo).ser(ri).de(oi).build(){}class na extends Ft.classBuilder().ep({...pr}).m(function(t,n,r,s){return[qn(r,this.serialize,this.deserialize),Kn(r,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Jo,Qo).ser(si).de(ii).build(){}const Er="us-east-1",Tr=e=>{if(typeof e?.Arn=="string"){const t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},br=async(e,t,n)=>{const r=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${r} (provider)`,`${s} (parent client)`,`${Er} (STS default)`),r??s??Er},wr=(e,t)=>{let n,r;return async(s,o)=>{if(r=s,!n){const{logger:N=e?.parentClientConfig?.logger,region:P,requestHandler:S=e?.parentClientConfig?.requestHandler,credentialProviderLogger:C}=e,v=await br(P,e?.parentClientConfig?.region,C),W=!Ar(S);n=new t({credentialDefaultProvider:()=>async()=>r,region:v,requestHandler:W?S:void 0,logger:N})}const{Credentials:i,AssumedRoleUser:h}=await n.send(new ta(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);const y=Tr(h);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...y&&{accountId:y}}}},Sr=(e,t)=>{let n;return async r=>{if(!n){const{logger:h=e?.parentClientConfig?.logger,region:y,requestHandler:N=e?.parentClientConfig?.requestHandler,credentialProviderLogger:P}=e,S=await br(y,e?.parentClientConfig?.region,P),C=!Ar(N);n=new t({region:S,requestHandler:C?N:void 0,logger:h})}const{Credentials:s,AssumedRoleUser:o}=await n.send(new na(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);const i=Tr(o);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}}}},dd=e=>t=>e({roleAssumer:wr(t,t.stsClientCtor),roleAssumerWithWebIdentity:Sr(t,t.stsClientCtor),...t}),Ar=e=>e?.metadata?.handlerProtocol==="h2";var Rr=I(8654),ra=I(46170),sa=I(46640),Cr=I(16600),ut=I(42706),ft=I(56527),oa=I(53188),He;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(He||(He={}));const ht=3,Nr=He.STANDARD,ia=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],aa=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ca=["TimeoutError","RequestTimeout","RequestTimeoutException"],da=[500,502,503,504],la=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],ua=e=>e.$retryable!==void 0,fa=e=>ia.includes(e.name),ha=e=>e.$metadata?.clockSkewCorrected,Nt=e=>e.$metadata?.httpStatusCode===429||aa.includes(e.name)||e.$retryable?.throttling==!0,Pn=e=>ha(e)||ca.includes(e.name)||la.includes(e?.code||"")||da.includes(e.$metadata?.httpStatusCode||0),ga=e=>{if(e.$metadata?.httpStatusCode!==void 0){const t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Pn(e)}return!1};class _r{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;const n=this.getCurrentTimeInSeconds();this.lastThrottleTime=n,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(!!this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const n=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>setTimeout(r,n))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const n=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+n),this.lastTimestamp=t}updateClientSendingRate(t){let n;if(this.updateMeasuredRate(),Nt(t)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),n=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),n=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(n,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),n=Math.floor(t*2)/2;if(this.requestCount++,n>this.lastTxRateBucket){const r=this.requestCount/(n-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=n}}getPrecise(t){return parseFloat(t.toFixed(8))}}const gt=100,xn=20*1e3,Ir=500,vn=500,Pr=5,xr=10,vr=1,Or="amz-sdk-invocation-id",$r="amz-sdk-request",ma=()=>{let e=gt;return{computeNextBackoffDelay:r=>Math.floor(Math.min(xn,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}},kr=({retryDelay:e,retryCount:t,retryCost:n})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(xn,e),getRetryCost:()=>n});class On{constructor(t){this.maxAttempts=t,this.mode=He.STANDARD,this.capacity=vn,this.retryBackoffStrategy=ma(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return kr({retryDelay:gt,retryCount:0})}async refreshRetryTokenForRetry(t,n){const r=await this.getMaxAttempts();if(this.shouldRetry(t,n,r)){const s=n.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Ir:gt);const o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=n.retryAfterHint?Math.max(n.retryAfterHint.getTime()-Date.now()||0,o):o,h=this.getCapacityCost(s);return this.capacity-=h,kr({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:h})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(vn,this.capacity+(t.getRetryCost()??vr))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${ht}`),ht}}shouldRetry(t,n,r){return t.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(n.errorType)&&this.isRetryableError(n.errorType)}getCapacityCost(t){return t==="TRANSIENT"?xr:Pr}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class pa{constructor(t,n){this.maxAttemptsProvider=t,this.mode=He.ADAPTIVE;const{rateLimiter:r}=n??{};this.rateLimiter=r??new _r,this.standardRetryStrategy=new On(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,n){return this.rateLimiter.updateClientSendingRate(n),this.standardRetryStrategy.refreshRetryTokenForRetry(t,n)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}class ld extends On{constructor(t,n=gt){super(typeof t=="function"?t:async()=>t),typeof n=="number"?this.computeNextBackoffDelay=()=>n:this.computeNextBackoffDelay=n}async refreshRetryTokenForRetry(t,n){const r=await super.refreshRetryTokenForRetry(t,n);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}var Mr=I(3682);const ya=(e,t)=>{const n=e,r=t?.noRetryIncrement??vr,s=t?.retryCost??Pr,o=t?.timeoutRetryCost??xr;let i=e;const h=S=>S.name==="TimeoutError"?o:s,y=S=>h(S)<=i;return Object.freeze({hasRetryTokens:y,retrieveRetryTokens:S=>{if(!y(S))throw new Error("No retry token available");const C=h(S);return i-=C,C},releaseRetryTokens:S=>{i+=S??r,i=Math.min(i,n)}})},Ea=(e,t)=>Math.floor(Math.min(xn,Math.random()*2**t*e)),Ta=e=>e?ua(e)||fa(e)||Nt(e)||Pn(e):!1,Fr=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);class ba{constructor(t,n){this.maxAttemptsProvider=t,this.mode=He.STANDARD,this.retryDecider=n?.retryDecider??Ta,this.delayDecider=n?.delayDecider??Ea,this.retryQuota=n?.retryQuota??ya(vn)}shouldRetry(t,n,r){return n<r&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=ht}return t}async retry(t,n,r){let s,o=0,i=0;const h=await this.getMaxAttempts(),{request:y}=n;for(ze.isInstance(y)&&(y.headers[Or]=(0,Mr.A)());;)try{ze.isInstance(y)&&(y.headers[$r]=`attempt=${o+1}; max=${h}`),r?.beforeRequest&&await r.beforeRequest();const{response:N,output:P}=await t(n);return r?.afterRequest&&r.afterRequest(N),this.retryQuota.releaseRetryTokens(s),P.$metadata.attempts=o+1,P.$metadata.totalRetryDelay=i,{response:N,output:P}}catch(N){const P=Fr(N);if(o++,this.shouldRetry(P,o,h)){s=this.retryQuota.retrieveRetryTokens(P);const S=this.delayDecider(Nt(P)?Ir:gt,o),C=wa(P.$response),v=Math.max(C||0,S);i+=v,await new Promise(W=>setTimeout(W,v));continue}throw P.$metadata||(P.$metadata={}),P.$metadata.attempts=o,P.$metadata.totalRetryDelay=i,P}}}const wa=e=>{if(!xt.isInstance(e))return;const t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n).getTime()-Date.now():r*1e3};class ud extends ba{constructor(t,n){const{rateLimiter:r,...s}=n??{};super(t,s),this.rateLimiter=r??new _r,this.mode=He.ADAPTIVE}async retry(t,n){return super.retry(t,n,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}}const Lr="AWS_MAX_ATTEMPTS",Br="max_attempts",Sa={environmentVariableSelector:e=>{const t=e[Lr];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Environment variable ${Lr} mast be a number, got "${t}"`);return n},configFileSelector:e=>{const t=e[Br];if(!t)return;const n=parseInt(t);if(Number.isNaN(n))throw new Error(`Shared config file entry ${Br} mast be a number, got "${t}"`);return n},default:ht},Aa=e=>{const{retryStrategy:t}=e,n=Ke(e.maxAttempts??ht);return{...e,maxAttempts:n,retryStrategy:async()=>t||(await Ke(e.retryMode)()===He.ADAPTIVE?new pa(n):new On(n))}},Ra="AWS_RETRY_MODE",Ca="retry_mode",Na={environmentVariableSelector:e=>e[Ra],configFileSelector:e=>e[Ca],default:Nr},_a=()=>e=>async t=>{const{request:n}=t;return HttpRequest.isInstance(n)&&(delete n.headers[INVOCATION_ID_HEADER],delete n.headers[REQUEST_HEADER]),e(t)},Ia={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},fd=e=>({applyToStack:t=>{t.addRelativeTo(_a(),Ia)}}),Pa=e=>e?.body instanceof Tt.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream,xa=e=>(t,n)=>async r=>{let s=await e.retryStrategy();const o=await e.maxAttempts();if(va(s)){s=s;let i=await s.acquireInitialRetryToken(n.partition_id),h=new Error,y=0,N=0;const{request:P}=r,S=ze.isInstance(P);for(S&&(P.headers[Or]=(0,Mr.A)());;)try{S&&(P.headers[$r]=`attempt=${y+1}; max=${o}`);const{response:C,output:v}=await t(r);return s.recordSuccess(i),v.$metadata.attempts=y+1,v.$metadata.totalRetryDelay=N,{response:C,output:v}}catch(C){const v=Oa(C);if(h=Fr(C),S&&Pa(P))throw(n.logger instanceof Yn?console:n.logger)?.warn("An error was encountered in a non-retryable streaming request."),h;try{i=await s.refreshRetryTokenForRetry(i,v)}catch{throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=y+1,h.$metadata.totalRetryDelay=N,h}y=i.getRetryCount();const W=i.getRetryDelay();N+=W,await new Promise(te=>setTimeout(te,W))}}else return s=s,s?.mode&&(n.userAgent=[...n.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,r)},va=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",Oa=e=>{const t={error:e,errorType:$a(e)},n=Fa(e.$response);return n&&(t.retryAfterHint=n),t},$a=e=>Nt(e)?"THROTTLING":Pn(e)?"TRANSIENT":ga(e)?"SERVER_ERROR":"CLIENT_ERROR",ka={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Ma=e=>({applyToStack:t=>{t.add(xa(e),ka)}}),Fa=e=>{if(!xt.isInstance(e))return;const t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;const n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(r*1e3)};var La=I(4987);const Ba=async(e,t,n)=>({operation:jn(t).operation,region:await Ke(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Ua(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,n)=>({signingProperties:{config:t,context:n}})}}function Ur(e){return{schemeId:"smithy.api#noAuth"}}const Ha=e=>{const t=[];switch(e.operation){case"AssumeRoleWithSAML":{t.push(Ur(e));break}case"AssumeRoleWithWebIdentity":{t.push(Ur(e));break}default:t.push(Ua(e))}return t},Da=e=>({...e,stsClientCtor:Fn}),Wa=e=>{const t=Da(e);return{...(0,La.h)(t)}},Va={rE:"3.637.0"};var za=I(68227),Hr=I(59065),Dr=I(34054),ja=I(58102),Ga=I(51461),qa=I(88226),Ka=I(6775),Wr=I(13022);const Vr="required",H="type",q="fn",K="argv",De="ref",zr=!1,$n=!0,We="booleanEquals",ce="stringEquals",jr="sigv4",Gr="sts",qr="us-east-1",se="endpoint",Kr="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ne="tree",ot="error",kn="getAttr",Yr={[Vr]:!1,[H]:"String"},Mn={[Vr]:!0,default:!1,[H]:"Boolean"},Xr={[De]:"Endpoint"},Jr={[q]:"isSet",[K]:[{[De]:"Region"}]},de={[De]:"Region"},Qr={[q]:"aws.partition",[K]:[de],assign:"PartitionResult"},Zr={[De]:"UseFIPS"},es={[De]:"UseDualStack"},ue={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:jr,signingName:Gr,signingRegion:qr}]},headers:{}},pe={},ts={conditions:[{[q]:ce,[K]:[de,"aws-global"]}],[se]:ue,[H]:se},ns={[q]:We,[K]:[Zr,!0]},rs={[q]:We,[K]:[es,!0]},ss={[q]:kn,[K]:[{[De]:"PartitionResult"},"supportsFIPS"]},os={[De]:"PartitionResult"},is={[q]:We,[K]:[!0,{[q]:kn,[K]:[os,"supportsDualStack"]}]},as=[{[q]:"isSet",[K]:[Xr]}],cs=[ns],ds=[rs],Ya={version:"1.0",parameters:{Region:Yr,UseDualStack:Mn,UseFIPS:Mn,Endpoint:Yr,UseGlobalEndpoint:Mn},rules:[{conditions:[{[q]:We,[K]:[{[De]:"UseGlobalEndpoint"},$n]},{[q]:"not",[K]:as},Jr,Qr,{[q]:We,[K]:[Zr,zr]},{[q]:We,[K]:[es,zr]}],rules:[{conditions:[{[q]:ce,[K]:[de,"ap-northeast-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"ap-south-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"ap-southeast-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"ap-southeast-2"]}],endpoint:ue,[H]:se},ts,{conditions:[{[q]:ce,[K]:[de,"ca-central-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"eu-central-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"eu-north-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"eu-west-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"eu-west-2"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"eu-west-3"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"sa-east-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,qr]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"us-east-2"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"us-west-1"]}],endpoint:ue,[H]:se},{conditions:[{[q]:ce,[K]:[de,"us-west-2"]}],endpoint:ue,[H]:se},{endpoint:{url:Kr,properties:{authSchemes:[{name:jr,signingName:Gr,signingRegion:"{Region}"}]},headers:pe},[H]:se}],[H]:Ne},{conditions:as,rules:[{conditions:cs,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[H]:ot},{conditions:ds,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[H]:ot},{endpoint:{url:Xr,properties:pe,headers:pe},[H]:se}],[H]:Ne},{conditions:[Jr],rules:[{conditions:[Qr],rules:[{conditions:[ns,rs],rules:[{conditions:[{[q]:We,[K]:[$n,ss]},is],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pe,headers:pe},[H]:se}],[H]:Ne},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[H]:ot}],[H]:Ne},{conditions:cs,rules:[{conditions:[{[q]:We,[K]:[ss,$n]}],rules:[{conditions:[{[q]:ce,[K]:[{[q]:kn,[K]:[os,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:pe,headers:pe},[H]:se},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pe,headers:pe},[H]:se}],[H]:Ne},{error:"FIPS is enabled but this partition does not support FIPS",[H]:ot}],[H]:Ne},{conditions:ds,rules:[{conditions:[is],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pe,headers:pe},[H]:se}],[H]:Ne},{error:"DualStack is enabled but this partition does not support DualStack",[H]:ot}],[H]:Ne},ts,{endpoint:{url:Kr,properties:pe,headers:pe},[H]:se}],[H]:Ne}],[H]:Ne},{error:"Invalid Configuration: Missing Region",[H]:ot}]},Xa=(e,t={})=>(0,Wr.sO)(Ya,{endpointParams:e,logger:t.logger});Wr.mw.aws=Ka.UF;const Ja=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Ws,base64Encoder:e?.base64Encoder??Gs,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Xa,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Ha,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Hr.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ft.mR}],logger:e?.logger??new Yn,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??yt,utf8Decoder:e?.utf8Decoder??Zn,utf8Encoder:e?.utf8Encoder??js});var Qa=I(78075);const Za=e=>{Wo(process.version);const t=(0,Qa.I)(e),n=()=>t().then(Do),r=Ja(e);return(0,za.I)(process.version),{...r,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??qa.n,credentialDefaultProvider:e?.credentialDefaultProvider??Dr.v6,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,ja.mJ)({serviceId:r.serviceId,clientVersion:Va.rE}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async o=>await(0,Dr.v6)(o?.__config||{})()),signer:new Hr.f2},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new ft.mR}],maxAttempts:e?.maxAttempts??qe(Sa),region:e?.region??qe(ut.GG,ut.zH),requestHandler:bt.create(e?.requestHandler??n),retryMode:e?.retryMode??qe({...Na,default:async()=>(await n()).retryMode||Nr}),sha256:e?.sha256??Ga.V.bind(null,"sha256"),streamCollector:e?.streamCollector??io,useDualstackEndpoint:e?.useDualstackEndpoint??qe(ut.e$),useFipsEndpoint:e?.useFipsEndpoint??qe(ut.Ko)}};var ls=I(3119);const ec=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){const o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){n=s},httpAuthSchemeProvider(){return n},setCredentials(s){r=s},credentials(){return r}}},tc=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),_t=e=>e,nc=(e,t)=>{const n={..._t((0,ls.Rq)(e)),..._t(qo(e)),..._t(qs(e)),..._t(ec(e))};return t.forEach(r=>r.configure(n)),{...e,...(0,ls.$3)(n),...Ko(n),...Ks(n),...tc(n)}};class Fn extends Bs{constructor(...[t]){const n=Za(t||{}),r=Yo(n),s=(0,Cr.Dc)(r),o=Aa(s),i=(0,ut.TD)(o),h=(0,Rr.OV)(i),y=Ls(h),N=Wa(y),P=nc(N,t?.extensions||[]);super(P),this.config=P,this.middlewareStack.use((0,Cr.sM)(this.config)),this.middlewareStack.use(Ma(this.config)),this.middlewareStack.use((0,oa.vK)(this.config)),this.middlewareStack.use((0,Rr.TC)(this.config)),this.middlewareStack.use((0,ra.Y7)(this.config)),this.middlewareStack.use((0,sa.n4)(this.config)),this.middlewareStack.use((0,ft.wB)(this.config,{httpAuthSchemeParametersProvider:Ba,identityProviderConfigProvider:async S=>new ft.h$({"aws.auth#sigv4":S.credentials})})),this.middlewareStack.use((0,ft.lW)(this.config))}destroy(){super.destroy()}}const us=(e,t)=>t?class extends e{constructor(r){super(r);for(const s of t)this.middlewareStack.use(s)}}:e,fs=(e={},t)=>wr(e,us(Fn,t)),hs=(e={},t)=>Sr(e,us(Fn,t)),gd=e=>t=>e({roleAssumer:fs(t),roleAssumerWithWebIdentity:hs(t),...t})},12763:(ie,Q,I)=>{"use strict";const U=I(70919),G=I(6226),V=I(75181);ie.exports={XMLParser:G,XMLValidator:U,XMLBuilder:V}},41209:(ie,Q)=>{"use strict";const I=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",U=I+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",G="["+I+"]["+U+"]*",V=new RegExp("^"+G+"$"),L=function(w,E){const u=[];let f=E.exec(w);for(;f;){const c=[];c.startIndex=E.lastIndex-f[0].length;const a=f.length;for(let p=0;p<a;p++)c.push(f[p]);u.push(c),f=E.exec(w)}return u},D=function(w){const E=V.exec(w);return!(E===null||typeof E>"u")};Q.isExist=function(w){return typeof w<"u"},Q.isEmptyObject=function(w){return Object.keys(w).length===0},Q.merge=function(w,E,u){if(E){const f=Object.keys(E),c=f.length;for(let a=0;a<c;a++)u==="strict"?w[f[a]]=[E[f[a]]]:w[f[a]]=E[f[a]]}},Q.getValue=function(w){return Q.isExist(w)?w:""},Q.isName=D,Q.getAllMatches=L,Q.nameRegexp=G},70919:(ie,Q,I)=>{"use strict";const U=I(41209),G={allowBooleanAttributes:!1,unpairedTags:[]};Q.validate=function(l,m){m=Object.assign({},G,m);const x=[];let g=!1,A=!1;l[0]==="\uFEFF"&&(l=l.substr(1));for(let d=0;d<l.length;d++)if(l[d]==="<"&&l[d+1]==="?"){if(d+=2,d=L(l,d),d.err)return d}else if(l[d]==="<"){let $=d;if(d++,l[d]==="!"){d=D(l,d);continue}else{let _=!1;l[d]==="/"&&(_=!0,d++);let T="";for(;d<l.length&&l[d]!==">"&&l[d]!==" "&&l[d]!=="	"&&l[d]!==`
`&&l[d]!=="\r";d++)T+=l[d];if(T=T.trim(),T[T.length-1]==="/"&&(T=T.substring(0,T.length-1),d--),!ne(T)){let b;return T.trim().length===0?b="Invalid space after '<'.":b="Tag '"+T+"' is an invalid name.",R("InvalidTag",b,Y(l,d))}const J=u(l,d);if(J===!1)return R("InvalidAttr","Attributes for '"+T+"' have open quote.",Y(l,d));let k=J.value;if(d=J.index,k[k.length-1]==="/"){const b=d-k.length;k=k.substring(0,k.length-1);const X=c(k,m);if(X===!0)g=!0;else return R(X.err.code,X.err.msg,Y(l,b+X.err.line))}else if(_)if(J.tagClosed){if(k.trim().length>0)return R("InvalidTag","Closing tag '"+T+"' can't have attributes or invalid starting.",Y(l,$));if(x.length===0)return R("InvalidTag","Closing tag '"+T+"' has not been opened.",Y(l,$));{const b=x.pop();if(T!==b.tagName){let X=Y(l,b.tagStartPos);return R("InvalidTag","Expected closing tag '"+b.tagName+"' (opened in line "+X.line+", col "+X.col+") instead of closing tag '"+T+"'.",Y(l,$))}x.length==0&&(A=!0)}}else return R("InvalidTag","Closing tag '"+T+"' doesn't have proper closing.",Y(l,d));else{const b=c(k,m);if(b!==!0)return R(b.err.code,b.err.msg,Y(l,d-k.length+b.err.line));if(A===!0)return R("InvalidXml","Multiple possible root nodes found.",Y(l,d));m.unpairedTags.indexOf(T)!==-1||x.push({tagName:T,tagStartPos:$}),g=!0}for(d++;d<l.length;d++)if(l[d]==="<")if(l[d+1]==="!"){d++,d=D(l,d);continue}else if(l[d+1]==="?"){if(d=L(l,++d),d.err)return d}else break;else if(l[d]==="&"){const b=p(l,d);if(b==-1)return R("InvalidChar","char '&' is not expected.",Y(l,d));d=b}else if(A===!0&&!V(l[d]))return R("InvalidXml","Extra text at the end",Y(l,d));l[d]==="<"&&d--}}else{if(V(l[d]))continue;return R("InvalidChar","char '"+l[d]+"' is not expected.",Y(l,d))}if(g){if(x.length==1)return R("InvalidTag","Unclosed tag '"+x[0].tagName+"'.",Y(l,x[0].tagStartPos));if(x.length>0)return R("InvalidXml","Invalid '"+JSON.stringify(x.map(d=>d.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return R("InvalidXml","Start tag expected.",1);return!0};function V(l){return l===" "||l==="	"||l===`
`||l==="\r"}function L(l,m){const x=m;for(;m<l.length;m++)if(l[m]=="?"||l[m]==" "){const g=l.substr(x,m-x);if(m>5&&g==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",Y(l,m));if(l[m]=="?"&&l[m+1]==">"){m++;break}else continue}return m}function D(l,m){if(l.length>m+5&&l[m+1]==="-"&&l[m+2]==="-"){for(m+=3;m<l.length;m++)if(l[m]==="-"&&l[m+1]==="-"&&l[m+2]===">"){m+=2;break}}else if(l.length>m+8&&l[m+1]==="D"&&l[m+2]==="O"&&l[m+3]==="C"&&l[m+4]==="T"&&l[m+5]==="Y"&&l[m+6]==="P"&&l[m+7]==="E"){let x=1;for(m+=8;m<l.length;m++)if(l[m]==="<")x++;else if(l[m]===">"&&(x--,x===0))break}else if(l.length>m+9&&l[m+1]==="["&&l[m+2]==="C"&&l[m+3]==="D"&&l[m+4]==="A"&&l[m+5]==="T"&&l[m+6]==="A"&&l[m+7]==="["){for(m+=8;m<l.length;m++)if(l[m]==="]"&&l[m+1]==="]"&&l[m+2]===">"){m+=2;break}}return m}const w='"',E="'";function u(l,m){let x="",g="",A=!1;for(;m<l.length;m++){if(l[m]===w||l[m]===E)g===""?g=l[m]:g!==l[m]||(g="");else if(l[m]===">"&&g===""){A=!0;break}x+=l[m]}return g!==""?!1:{value:x,index:m,tagClosed:A}}const f=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function c(l,m){const x=U.getAllMatches(l,f),g={};for(let A=0;A<x.length;A++){if(x[A][1].length===0)return R("InvalidAttr","Attribute '"+x[A][2]+"' has no space in starting.",ee(x[A]));if(x[A][3]!==void 0&&x[A][4]===void 0)return R("InvalidAttr","Attribute '"+x[A][2]+"' is without value.",ee(x[A]));if(x[A][3]===void 0&&!m.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+x[A][2]+"' is not allowed.",ee(x[A]));const d=x[A][2];if(!O(d))return R("InvalidAttr","Attribute '"+d+"' is an invalid name.",ee(x[A]));if(!g.hasOwnProperty(d))g[d]=1;else return R("InvalidAttr","Attribute '"+d+"' is repeated.",ee(x[A]))}return!0}function a(l,m){let x=/\d/;for(l[m]==="x"&&(m++,x=/[\da-fA-F]/);m<l.length;m++){if(l[m]===";")return m;if(!l[m].match(x))break}return-1}function p(l,m){if(m++,l[m]===";")return-1;if(l[m]==="#")return m++,a(l,m);let x=0;for(;m<l.length;m++,x++)if(!(l[m].match(/\w/)&&x<20)){if(l[m]===";")break;return-1}return m}function R(l,m,x){return{err:{code:l,msg:m,line:x.line||x,col:x.col}}}function O(l){return U.isName(l)}function ne(l){return U.isName(l)}function Y(l,m){const x=l.substring(0,m).split(/\r?\n/);return{line:x.length,col:x[x.length-1].length+1}}function ee(l){return l.startIndex+l[1].length}},75181:(ie,Q,I)=>{"use strict";const U=I(74655),G={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,f){return f},attributeValueProcessor:function(u,f){return f},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function V(u){this.options=Object.assign({},G,u),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=E),this.processTextOrObjNode=L,this.options.format?(this.indentate=w,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}V.prototype.build=function(u){return this.options.preserveOrder?U(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0).val)},V.prototype.j2x=function(u,f){let c="",a="";for(let p in u)if(!!Object.prototype.hasOwnProperty.call(u,p))if(typeof u[p]>"u")this.isAttribute(p)&&(a+="");else if(u[p]===null)this.isAttribute(p)?a+="":p[0]==="?"?a+=this.indentate(f)+"<"+p+"?"+this.tagEndChar:a+=this.indentate(f)+"<"+p+"/"+this.tagEndChar;else if(u[p]instanceof Date)a+=this.buildTextValNode(u[p],p,"",f);else if(typeof u[p]!="object"){const R=this.isAttribute(p);if(R)c+=this.buildAttrPairStr(R,""+u[p]);else if(p===this.options.textNodeName){let O=this.options.tagValueProcessor(p,""+u[p]);a+=this.replaceEntitiesValue(O)}else a+=this.buildTextValNode(u[p],p,"",f)}else if(Array.isArray(u[p])){const R=u[p].length;let O="",ne="";for(let Y=0;Y<R;Y++){const ee=u[p][Y];if(!(typeof ee>"u"))if(ee===null)p[0]==="?"?a+=this.indentate(f)+"<"+p+"?"+this.tagEndChar:a+=this.indentate(f)+"<"+p+"/"+this.tagEndChar;else if(typeof ee=="object")if(this.options.oneListGroup){const l=this.j2x(ee,f+1);O+=l.val,this.options.attributesGroupName&&ee.hasOwnProperty(this.options.attributesGroupName)&&(ne+=l.attrStr)}else O+=this.processTextOrObjNode(ee,p,f);else if(this.options.oneListGroup){let l=this.options.tagValueProcessor(p,ee);l=this.replaceEntitiesValue(l),O+=l}else O+=this.buildTextValNode(ee,p,"",f)}this.options.oneListGroup&&(O=this.buildObjectNode(O,p,ne,f)),a+=O}else if(this.options.attributesGroupName&&p===this.options.attributesGroupName){const R=Object.keys(u[p]),O=R.length;for(let ne=0;ne<O;ne++)c+=this.buildAttrPairStr(R[ne],""+u[p][R[ne]])}else a+=this.processTextOrObjNode(u[p],p,f);return{attrStr:c,val:a}},V.prototype.buildAttrPairStr=function(u,f){return f=this.options.attributeValueProcessor(u,""+f),f=this.replaceEntitiesValue(f),this.options.suppressBooleanAttributes&&f==="true"?" "+u:" "+u+'="'+f+'"'};function L(u,f,c){const a=this.j2x(u,c+1);return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],f,a.attrStr,c):this.buildObjectNode(a.val,f,a.attrStr,c)}V.prototype.buildObjectNode=function(u,f,c,a){if(u==="")return f[0]==="?"?this.indentate(a)+"<"+f+c+"?"+this.tagEndChar:this.indentate(a)+"<"+f+c+this.closeTag(f)+this.tagEndChar;{let p="</"+f+this.tagEndChar,R="";return f[0]==="?"&&(R="?",p=""),(c||c==="")&&u.indexOf("<")===-1?this.indentate(a)+"<"+f+c+R+">"+u+p:this.options.commentPropName!==!1&&f===this.options.commentPropName&&R.length===0?this.indentate(a)+`<!--${u}-->`+this.newLine:this.indentate(a)+"<"+f+c+R+this.tagEndChar+u+this.indentate(a)+p}},V.prototype.closeTag=function(u){let f="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(f="/"):this.options.suppressEmptyNode?f="/":f=`></${u}`,f};function D(u,f,c,a){return u!==""?this.buildObjectNode(u,f,c,a):f[0]==="?"?this.indentate(a)+"<"+f+c+"?"+this.tagEndChar:this.indentate(a)+"<"+f+c+"/"+this.tagEndChar}V.prototype.buildTextValNode=function(u,f,c,a){if(this.options.cdataPropName!==!1&&f===this.options.cdataPropName)return this.indentate(a)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&f===this.options.commentPropName)return this.indentate(a)+`<!--${u}-->`+this.newLine;if(f[0]==="?")return this.indentate(a)+"<"+f+c+"?"+this.tagEndChar;{let p=this.options.tagValueProcessor(f,u);return p=this.replaceEntitiesValue(p),p===""?this.indentate(a)+"<"+f+c+this.closeTag(f)+this.tagEndChar:this.indentate(a)+"<"+f+c+">"+p+"</"+f+this.tagEndChar}},V.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let f=0;f<this.options.entities.length;f++){const c=this.options.entities[f];u=u.replace(c.regex,c.val)}return u};function w(u){return this.options.indentBy.repeat(u)}function E(u){return u.startsWith(this.options.attributeNamePrefix)&&u!==this.options.textNodeName?u.substr(this.attrPrefixLen):!1}ie.exports=V},74655:ie=>{const Q=`
`;function I(w,E){let u="";return E.format&&E.indentBy.length>0&&(u=Q),U(w,E,"",u)}function U(w,E,u,f){let c="",a=!1;for(let p=0;p<w.length;p++){const R=w[p],O=G(R);if(O===void 0)continue;let ne="";if(u.length===0?ne=O:ne=`${u}.${O}`,O===E.textNodeName){let x=R[O];L(ne,E)||(x=E.tagValueProcessor(O,x),x=D(x,E)),a&&(c+=f),c+=x,a=!1;continue}else if(O===E.cdataPropName){a&&(c+=f),c+=`<![CDATA[${R[O][0][E.textNodeName]}]]>`,a=!1;continue}else if(O===E.commentPropName){c+=f+`<!--${R[O][0][E.textNodeName]}-->`,a=!0;continue}else if(O[0]==="?"){const x=V(R[":@"],E),g=O==="?xml"?"":f;let A=R[O][0][E.textNodeName];A=A.length!==0?" "+A:"",c+=g+`<${O}${A}${x}?>`,a=!0;continue}let Y=f;Y!==""&&(Y+=E.indentBy);const ee=V(R[":@"],E),l=f+`<${O}${ee}`,m=U(R[O],E,ne,Y);E.unpairedTags.indexOf(O)!==-1?E.suppressUnpairedNode?c+=l+">":c+=l+"/>":(!m||m.length===0)&&E.suppressEmptyNode?c+=l+"/>":m&&m.endsWith(">")?c+=l+`>${m}${f}</${O}>`:(c+=l+">",m&&f!==""&&(m.includes("/>")||m.includes("</"))?c+=f+E.indentBy+m+f:c+=m,c+=`</${O}>`),a=!0}return c}function G(w){const E=Object.keys(w);for(let u=0;u<E.length;u++){const f=E[u];if(!!w.hasOwnProperty(f)&&f!==":@")return f}}function V(w,E){let u="";if(w&&!E.ignoreAttributes)for(let f in w){if(!w.hasOwnProperty(f))continue;let c=E.attributeValueProcessor(f,w[f]);c=D(c,E),c===!0&&E.suppressBooleanAttributes?u+=` ${f.substr(E.attributeNamePrefix.length)}`:u+=` ${f.substr(E.attributeNamePrefix.length)}="${c}"`}return u}function L(w,E){w=w.substr(0,w.length-E.textNodeName.length-1);let u=w.substr(w.lastIndexOf(".")+1);for(let f in E.stopNodes)if(E.stopNodes[f]===w||E.stopNodes[f]==="*."+u)return!0;return!1}function D(w,E){if(w&&w.length>0&&E.processEntities)for(let u=0;u<E.entities.length;u++){const f=E.entities[u];w=w.replace(f.regex,f.val)}return w}ie.exports=I},23233:(ie,Q,I)=>{const U=I(41209);function G(c,a){const p={};if(c[a+3]==="O"&&c[a+4]==="C"&&c[a+5]==="T"&&c[a+6]==="Y"&&c[a+7]==="P"&&c[a+8]==="E"){a=a+9;let R=1,O=!1,ne=!1,Y="";for(;a<c.length;a++)if(c[a]==="<"&&!ne){if(O&&D(c,a))a+=7,[entityName,val,a]=V(c,a+1),val.indexOf("&")===-1&&(p[f(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(O&&w(c,a))a+=8;else if(O&&E(c,a))a+=8;else if(O&&u(c,a))a+=9;else if(L)ne=!0;else throw new Error("Invalid DOCTYPE");R++,Y=""}else if(c[a]===">"){if(ne?c[a-1]==="-"&&c[a-2]==="-"&&(ne=!1,R--):R--,R===0)break}else c[a]==="["?O=!0:Y+=c[a];if(R!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:p,i:a}}function V(c,a){let p="";for(;a<c.length&&c[a]!=="'"&&c[a]!=='"';a++)p+=c[a];if(p=p.trim(),p.indexOf(" ")!==-1)throw new Error("External entites are not supported");const R=c[a++];let O="";for(;a<c.length&&c[a]!==R;a++)O+=c[a];return[p,O,a]}function L(c,a){return c[a+1]==="!"&&c[a+2]==="-"&&c[a+3]==="-"}function D(c,a){return c[a+1]==="!"&&c[a+2]==="E"&&c[a+3]==="N"&&c[a+4]==="T"&&c[a+5]==="I"&&c[a+6]==="T"&&c[a+7]==="Y"}function w(c,a){return c[a+1]==="!"&&c[a+2]==="E"&&c[a+3]==="L"&&c[a+4]==="E"&&c[a+5]==="M"&&c[a+6]==="E"&&c[a+7]==="N"&&c[a+8]==="T"}function E(c,a){return c[a+1]==="!"&&c[a+2]==="A"&&c[a+3]==="T"&&c[a+4]==="T"&&c[a+5]==="L"&&c[a+6]==="I"&&c[a+7]==="S"&&c[a+8]==="T"}function u(c,a){return c[a+1]==="!"&&c[a+2]==="N"&&c[a+3]==="O"&&c[a+4]==="T"&&c[a+5]==="A"&&c[a+6]==="T"&&c[a+7]==="I"&&c[a+8]==="O"&&c[a+9]==="N"}function f(c){if(U.isName(c))return c;throw new Error(`Invalid entity name ${c}`)}ie.exports=G},67063:(ie,Q)=>{const I={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(G,V){return V},attributeValueProcessor:function(G,V){return V},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(G,V,L){return G}},U=function(G){return Object.assign({},I,G)};Q.buildOptions=U,Q.defaultOptions=I},5139:(ie,Q,I)=>{"use strict";const U=I(41209),G=I(85381),V=I(23233),L=I(78262);class D{constructor(A){this.options=A,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(d,$)=>String.fromCharCode(Number.parseInt($,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(d,$)=>String.fromCharCode(Number.parseInt($,16))}},this.addExternalEntities=w,this.parseXml=a,this.parseTextData=E,this.resolveNameSpace=u,this.buildAttributesMap=c,this.isItStopNode=ne,this.replaceEntitiesValue=R,this.readStopNodeData=m,this.saveTextToParentTag=O,this.addChild=p}}function w(g){const A=Object.keys(g);for(let d=0;d<A.length;d++){const $=A[d];this.lastEntities[$]={regex:new RegExp("&"+$+";","g"),val:g[$]}}}function E(g,A,d,$,_,T,J){if(g!==void 0&&(this.options.trimValues&&!$&&(g=g.trim()),g.length>0)){J||(g=this.replaceEntitiesValue(g));const k=this.options.tagValueProcessor(A,g,d,_,T);return k==null?g:typeof k!=typeof g||k!==g?k:this.options.trimValues?x(g,this.options.parseTagValue,this.options.numberParseOptions):g.trim()===g?x(g,this.options.parseTagValue,this.options.numberParseOptions):g}}function u(g){if(this.options.removeNSPrefix){const A=g.split(":"),d=g.charAt(0)==="/"?"/":"";if(A[0]==="xmlns")return"";A.length===2&&(g=d+A[1])}return g}const f=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function c(g,A,d){if(!this.options.ignoreAttributes&&typeof g=="string"){const $=U.getAllMatches(g,f),_=$.length,T={};for(let J=0;J<_;J++){const k=this.resolveNameSpace($[J][1]);let b=$[J][4],X=this.options.attributeNamePrefix+k;if(k.length)if(this.options.transformAttributeName&&(X=this.options.transformAttributeName(X)),X==="__proto__"&&(X="#__proto__"),b!==void 0){this.options.trimValues&&(b=b.trim()),b=this.replaceEntitiesValue(b);const z=this.options.attributeValueProcessor(k,b,A);z==null?T[X]=b:typeof z!=typeof b||z!==b?T[X]=z:T[X]=x(b,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(T[X]=!0)}if(!Object.keys(T).length)return;if(this.options.attributesGroupName){const J={};return J[this.options.attributesGroupName]=T,J}return T}}const a=function(g){g=g.replace(/\r\n?/g,`
`);const A=new G("!xml");let d=A,$="",_="";for(let T=0;T<g.length;T++)if(g[T]==="<")if(g[T+1]==="/"){const k=ee(g,">",T,"Closing Tag is not closed.");let b=g.substring(T+2,k).trim();if(this.options.removeNSPrefix){const ge=b.indexOf(":");ge!==-1&&(b=b.substr(ge+1))}this.options.transformTagName&&(b=this.options.transformTagName(b)),d&&($=this.saveTextToParentTag($,d,_));const X=_.substring(_.lastIndexOf(".")+1);if(b&&this.options.unpairedTags.indexOf(b)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${b}>`);let z=0;X&&this.options.unpairedTags.indexOf(X)!==-1?(z=_.lastIndexOf(".",_.lastIndexOf(".")-1),this.tagsNodeStack.pop()):z=_.lastIndexOf("."),_=_.substring(0,z),d=this.tagsNodeStack.pop(),$="",T=k}else if(g[T+1]==="?"){let k=l(g,T,!1,"?>");if(!k)throw new Error("Pi Tag is not closed.");if($=this.saveTextToParentTag($,d,_),!(this.options.ignoreDeclaration&&k.tagName==="?xml"||this.options.ignorePiTags)){const b=new G(k.tagName);b.add(this.options.textNodeName,""),k.tagName!==k.tagExp&&k.attrExpPresent&&(b[":@"]=this.buildAttributesMap(k.tagExp,_,k.tagName)),this.addChild(d,b,_)}T=k.closeIndex+1}else if(g.substr(T+1,3)==="!--"){const k=ee(g,"-->",T+4,"Comment is not closed.");if(this.options.commentPropName){const b=g.substring(T+4,k-2);$=this.saveTextToParentTag($,d,_),d.add(this.options.commentPropName,[{[this.options.textNodeName]:b}])}T=k}else if(g.substr(T+1,2)==="!D"){const k=V(g,T);this.docTypeEntities=k.entities,T=k.i}else if(g.substr(T+1,2)==="!["){const k=ee(g,"]]>",T,"CDATA is not closed.")-2,b=g.substring(T+9,k);$=this.saveTextToParentTag($,d,_);let X=this.parseTextData(b,d.tagname,_,!0,!1,!0,!0);X==null&&(X=""),this.options.cdataPropName?d.add(this.options.cdataPropName,[{[this.options.textNodeName]:b}]):d.add(this.options.textNodeName,X),T=k+2}else{let k=l(g,T,this.options.removeNSPrefix),b=k.tagName;const X=k.rawTagName;let z=k.tagExp,ge=k.attrExpPresent,it=k.closeIndex;this.options.transformTagName&&(b=this.options.transformTagName(b)),d&&$&&d.tagname!=="!xml"&&($=this.saveTextToParentTag($,d,_,!1));const _e=d;if(_e&&this.options.unpairedTags.indexOf(_e.tagname)!==-1&&(d=this.tagsNodeStack.pop(),_=_.substring(0,_.lastIndexOf("."))),b!==A.tagname&&(_+=_?"."+b:b),this.isItStopNode(this.options.stopNodes,_,b)){let me="";if(z.length>0&&z.lastIndexOf("/")===z.length-1)b[b.length-1]==="/"?(b=b.substr(0,b.length-1),_=_.substr(0,_.length-1),z=b):z=z.substr(0,z.length-1),T=k.closeIndex;else if(this.options.unpairedTags.indexOf(b)!==-1)T=k.closeIndex;else{const pt=this.readStopNodeData(g,X,it+1);if(!pt)throw new Error(`Unexpected end of ${X}`);T=pt.i,me=pt.tagContent}const mt=new G(b);b!==z&&ge&&(mt[":@"]=this.buildAttributesMap(z,_,b)),me&&(me=this.parseTextData(me,b,_,!0,ge,!0,!0)),_=_.substr(0,_.lastIndexOf(".")),mt.add(this.options.textNodeName,me),this.addChild(d,mt,_)}else{if(z.length>0&&z.lastIndexOf("/")===z.length-1){b[b.length-1]==="/"?(b=b.substr(0,b.length-1),_=_.substr(0,_.length-1),z=b):z=z.substr(0,z.length-1),this.options.transformTagName&&(b=this.options.transformTagName(b));const me=new G(b);b!==z&&ge&&(me[":@"]=this.buildAttributesMap(z,_,b)),this.addChild(d,me,_),_=_.substr(0,_.lastIndexOf("."))}else{const me=new G(b);this.tagsNodeStack.push(d),b!==z&&ge&&(me[":@"]=this.buildAttributesMap(z,_,b)),this.addChild(d,me,_),d=me}$="",T=it}}else $+=g[T];return A.child};function p(g,A,d){const $=this.options.updateTag(A.tagname,d,A[":@"]);$===!1||(typeof $=="string"&&(A.tagname=$),g.addChild(A))}const R=function(g){if(this.options.processEntities){for(let A in this.docTypeEntities){const d=this.docTypeEntities[A];g=g.replace(d.regx,d.val)}for(let A in this.lastEntities){const d=this.lastEntities[A];g=g.replace(d.regex,d.val)}if(this.options.htmlEntities)for(let A in this.htmlEntities){const d=this.htmlEntities[A];g=g.replace(d.regex,d.val)}g=g.replace(this.ampEntity.regex,this.ampEntity.val)}return g};function O(g,A,d,$){return g&&($===void 0&&($=Object.keys(A.child).length===0),g=this.parseTextData(g,A.tagname,d,!1,A[":@"]?Object.keys(A[":@"]).length!==0:!1,$),g!==void 0&&g!==""&&A.add(this.options.textNodeName,g),g=""),g}function ne(g,A,d){const $="*."+d;for(const _ in g){const T=g[_];if($===T||A===T)return!0}return!1}function Y(g,A,d=">"){let $,_="";for(let T=A;T<g.length;T++){let J=g[T];if($)J===$&&($="");else if(J==='"'||J==="'")$=J;else if(J===d[0])if(d[1]){if(g[T+1]===d[1])return{data:_,index:T}}else return{data:_,index:T};else J==="	"&&(J=" ");_+=J}}function ee(g,A,d,$){const _=g.indexOf(A,d);if(_===-1)throw new Error($);return _+A.length-1}function l(g,A,d,$=">"){const _=Y(g,A+1,$);if(!_)return;let T=_.data;const J=_.index,k=T.search(/\s/);let b=T,X=!0;k!==-1&&(b=T.substring(0,k),T=T.substring(k+1).trimStart());const z=b;if(d){const ge=b.indexOf(":");ge!==-1&&(b=b.substr(ge+1),X=b!==_.data.substr(ge+1))}return{tagName:b,tagExp:T,closeIndex:J,attrExpPresent:X,rawTagName:z}}function m(g,A,d){const $=d;let _=1;for(;d<g.length;d++)if(g[d]==="<")if(g[d+1]==="/"){const T=ee(g,">",d,`${A} is not closed`);if(g.substring(d+2,T).trim()===A&&(_--,_===0))return{tagContent:g.substring($,d),i:T};d=T}else if(g[d+1]==="?")d=ee(g,"?>",d+1,"StopNode is not closed.");else if(g.substr(d+1,3)==="!--")d=ee(g,"-->",d+3,"StopNode is not closed.");else if(g.substr(d+1,2)==="![")d=ee(g,"]]>",d,"StopNode is not closed.")-2;else{const T=l(g,d,">");T&&((T&&T.tagName)===A&&T.tagExp[T.tagExp.length-1]!=="/"&&_++,d=T.closeIndex)}}function x(g,A,d){if(A&&typeof g=="string"){const $=g.trim();return $==="true"?!0:$==="false"?!1:L(g,d)}else return U.isExist(g)?g:""}ie.exports=D},6226:(ie,Q,I)=>{const{buildOptions:U}=I(67063),G=I(5139),{prettify:V}=I(70896),L=I(70919);class D{constructor(E){this.externalEntities={},this.options=U(E)}parse(E,u){if(typeof E!="string")if(E.toString)E=E.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(u){u===!0&&(u={});const a=L.validate(E,u);if(a!==!0)throw Error(`${a.err.msg}:${a.err.line}:${a.err.col}`)}const f=new G(this.options);f.addExternalEntities(this.externalEntities);const c=f.parseXml(E);return this.options.preserveOrder||c===void 0?c:V(c,this.options)}addEntity(E,u){if(u.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(E.indexOf("&")!==-1||E.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(u==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[E]=u}}ie.exports=D},70896:(ie,Q)=>{"use strict";function I(D,w){return U(D,w)}function U(D,w,E){let u;const f={};for(let c=0;c<D.length;c++){const a=D[c],p=G(a);let R="";if(E===void 0?R=p:R=E+"."+p,p===w.textNodeName)u===void 0?u=a[p]:u+=""+a[p];else{if(p===void 0)continue;if(a[p]){let O=U(a[p],w,R);const ne=L(O,w);a[":@"]?V(O,a[":@"],R,w):Object.keys(O).length===1&&O[w.textNodeName]!==void 0&&!w.alwaysCreateTextNode?O=O[w.textNodeName]:Object.keys(O).length===0&&(w.alwaysCreateTextNode?O[w.textNodeName]="":O=""),f[p]!==void 0&&f.hasOwnProperty(p)?(Array.isArray(f[p])||(f[p]=[f[p]]),f[p].push(O)):w.isArray(p,R,ne)?f[p]=[O]:f[p]=O}}}return typeof u=="string"?u.length>0&&(f[w.textNodeName]=u):u!==void 0&&(f[w.textNodeName]=u),f}function G(D){const w=Object.keys(D);for(let E=0;E<w.length;E++){const u=w[E];if(u!==":@")return u}}function V(D,w,E,u){if(w){const f=Object.keys(w),c=f.length;for(let a=0;a<c;a++){const p=f[a];u.isArray(p,E+"."+p,!0,!0)?D[p]=[w[p]]:D[p]=w[p]}}}function L(D,w){const{textNodeName:E}=w,u=Object.keys(D).length;return!!(u===0||u===1&&(D[E]||typeof D[E]=="boolean"||D[E]===0))}Q.prettify=I},85381:ie=>{"use strict";class Q{constructor(U){this.tagname=U,this.child=[],this[":@"]={}}add(U,G){U==="__proto__"&&(U="#__proto__"),this.child.push({[U]:G})}addChild(U){U.tagname==="__proto__"&&(U.tagname="#__proto__"),U[":@"]&&Object.keys(U[":@"]).length>0?this.child.push({[U.tagname]:U.child,[":@"]:U[":@"]}):this.child.push({[U.tagname]:U.child})}}ie.exports=Q},78262:ie=>{const Q=/^[-+]?0x[a-fA-F0-9]+$/,I=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const U={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function G(L,D={}){if(D=Object.assign({},U,D),!L||typeof L!="string")return L;let w=L.trim();if(D.skipLike!==void 0&&D.skipLike.test(w))return L;if(D.hex&&Q.test(w))return Number.parseInt(w,16);{const E=I.exec(w);if(E){const u=E[1],f=E[2];let c=V(E[3]);const a=E[4]||E[6];if(!D.leadingZeros&&f.length>0&&u&&w[2]!==".")return L;if(!D.leadingZeros&&f.length>0&&!u&&w[1]!==".")return L;{const p=Number(w),R=""+p;return R.search(/[eE]/)!==-1||a?D.eNotation?p:L:w.indexOf(".")!==-1?R==="0"&&c===""||R===c||u&&R==="-"+c?p:L:f?c===R||u+c===R?p:L:w===R||w===u+R?p:L}}else return L}}function V(L){return L&&L.indexOf(".")!==-1&&(L=L.replace(/0+$/,""),L==="."?L="0":L[0]==="."?L="0"+L:L[L.length-1]==="."&&(L=L.substr(0,L.length-1))),L}ie.exports=G}};
